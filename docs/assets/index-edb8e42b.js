(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))m(f);new MutationObserver(f=>{for(const T of f)if(T.type==="childList")for(const E of T.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&m(E)}).observe(document,{childList:!0,subtree:!0});function o(f){const T={};return f.integrity&&(T.integrity=f.integrity),f.referrerPolicy&&(T.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?T.credentials="include":f.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function m(f){if(f.ep)return;f.ep=!0;const T=o(f);fetch(f.href,T)}})();var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oa={},Tn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Tn.exports;(function(n,p){(function(){var o,m="4.17.21",f=200,T="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",E="Expected a function",F="Invalid `variable` option passed into `_.template`",z="__lodash_hash_undefined__",X=500,V="__lodash_placeholder__",ue=1,$e=2,Pe=4,je=1,dt=2,fe=1,We=2,Xe=4,ye=8,tt=16,Ie=32,pt=64,Fe=128,jt=256,gt=512,R=30,j="...",ie=800,Ze=16,wt=1,xa=2,Da=3,It=1/0,bt=9007199254740991,Na=17976931348623157e292,jr=0/0,Ve=4294967295,Ca=Ve-1,Ba=Ve>>>1,Ma=[["ary",Fe],["bind",fe],["bindKey",We],["curry",ye],["curryRight",tt],["flip",gt],["partial",Ie],["partialRight",pt],["rearg",jt]],Ft="[object Arguments]",Ir="[object Array]",Pa="[object AsyncFunction]",nr="[object Boolean]",ir="[object Date]",Wa="[object DOMException]",Lr="[object Error]",Sr="[object Function]",Ki="[object GeneratorFunction]",Ge="[object Map]",or="[object Number]",Fa="[object Null]",rt="[object Object]",$i="[object Promise]",Ga="[object Proxy]",sr="[object RegExp]",Ue="[object Set]",ar="[object String]",Yr="[object Symbol]",Ua="[object Undefined]",hr="[object WeakMap]",za="[object WeakSet]",lr="[object ArrayBuffer]",Gt="[object DataView]",Rn="[object Float32Array]",En="[object Float64Array]",On="[object Int8Array]",jn="[object Int16Array]",In="[object Int32Array]",Ln="[object Uint8Array]",Sn="[object Uint8ClampedArray]",Yn="[object Uint16Array]",xn="[object Uint32Array]",qa=/\b__p \+= '';/g,Ha=/\b(__p \+=) '' \+/g,Ka=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xi=/&(?:amp|lt|gt|quot|#39);/g,Zi=/[&<>"']/g,$a=RegExp(Xi.source),Xa=RegExp(Zi.source),Za=/<%-([\s\S]+?)%>/g,Va=/<%([\s\S]+?)%>/g,Vi=/<%=([\s\S]+?)%>/g,Ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qa=/^\w*$/,e0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dn=/[\\^$.*+?()[\]{}|]/g,t0=RegExp(Dn.source),Nn=/^\s+/,r0=/\s/,n0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,i0=/\{\n\/\* \[wrapped with (.+)\] \*/,o0=/,? & /,s0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,a0=/[()=,{}\[\]\/\s]/,h0=/\\(\\)?/g,l0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ji=/\w*$/,u0=/^[-+]0x[0-9a-f]+$/i,f0=/^0b[01]+$/i,c0=/^\[object .+?Constructor\]$/,d0=/^0o[0-7]+$/i,p0=/^(?:0|[1-9]\d*)$/,g0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xr=/($^)/,w0=/['\n\r\u2028\u2029\\]/g,Dr="\\ud800-\\udfff",b0="\\u0300-\\u036f",v0="\\ufe20-\\ufe2f",m0="\\u20d0-\\u20ff",Qi=b0+v0+m0,eo="\\u2700-\\u27bf",to="a-z\\xdf-\\xf6\\xf8-\\xff",_0="\\xac\\xb1\\xd7\\xf7",y0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",T0="\\u2000-\\u206f",A0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ro="A-Z\\xc0-\\xd6\\xd8-\\xde",no="\\ufe0e\\ufe0f",io=_0+y0+T0+A0,Cn="['’]",k0="["+Dr+"]",oo="["+io+"]",Nr="["+Qi+"]",so="\\d+",R0="["+eo+"]",ao="["+to+"]",ho="[^"+Dr+io+so+eo+to+ro+"]",Bn="\\ud83c[\\udffb-\\udfff]",E0="(?:"+Nr+"|"+Bn+")",lo="[^"+Dr+"]",Mn="(?:\\ud83c[\\udde6-\\uddff]){2}",Pn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+ro+"]",uo="\\u200d",fo="(?:"+ao+"|"+ho+")",O0="(?:"+Ut+"|"+ho+")",co="(?:"+Cn+"(?:d|ll|m|re|s|t|ve))?",po="(?:"+Cn+"(?:D|LL|M|RE|S|T|VE))?",go=E0+"?",wo="["+no+"]?",j0="(?:"+uo+"(?:"+[lo,Mn,Pn].join("|")+")"+wo+go+")*",I0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",L0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bo=wo+go+j0,S0="(?:"+[R0,Mn,Pn].join("|")+")"+bo,Y0="(?:"+[lo+Nr+"?",Nr,Mn,Pn,k0].join("|")+")",x0=RegExp(Cn,"g"),D0=RegExp(Nr,"g"),Wn=RegExp(Bn+"(?="+Bn+")|"+Y0+bo,"g"),N0=RegExp([Ut+"?"+ao+"+"+co+"(?="+[oo,Ut,"$"].join("|")+")",O0+"+"+po+"(?="+[oo,Ut+fo,"$"].join("|")+")",Ut+"?"+fo+"+"+co,Ut+"+"+po,L0,I0,so,S0].join("|"),"g"),C0=RegExp("["+uo+Dr+Qi+no+"]"),B0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,M0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],P0=-1,J={};J[Rn]=J[En]=J[On]=J[jn]=J[In]=J[Ln]=J[Sn]=J[Yn]=J[xn]=!0,J[Ft]=J[Ir]=J[lr]=J[nr]=J[Gt]=J[ir]=J[Lr]=J[Sr]=J[Ge]=J[or]=J[rt]=J[sr]=J[Ue]=J[ar]=J[hr]=!1;var Z={};Z[Ft]=Z[Ir]=Z[lr]=Z[Gt]=Z[nr]=Z[ir]=Z[Rn]=Z[En]=Z[On]=Z[jn]=Z[In]=Z[Ge]=Z[or]=Z[rt]=Z[sr]=Z[Ue]=Z[ar]=Z[Yr]=Z[Ln]=Z[Sn]=Z[Yn]=Z[xn]=!0,Z[Lr]=Z[Sr]=Z[hr]=!1;var W0={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},F0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},G0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},U0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},z0=parseFloat,q0=parseInt,vo=typeof Rr=="object"&&Rr&&Rr.Object===Object&&Rr,H0=typeof self=="object"&&self&&self.Object===Object&&self,he=vo||H0||Function("return this")(),Fn=p&&!p.nodeType&&p,Lt=Fn&&!0&&n&&!n.nodeType&&n,mo=Lt&&Lt.exports===Fn,Gn=mo&&vo.process,Le=function(){try{var c=Lt&&Lt.require&&Lt.require("util").types;return c||Gn&&Gn.binding&&Gn.binding("util")}catch{}}(),_o=Le&&Le.isArrayBuffer,yo=Le&&Le.isDate,To=Le&&Le.isMap,Ao=Le&&Le.isRegExp,ko=Le&&Le.isSet,Ro=Le&&Le.isTypedArray;function Te(c,w,g){switch(g.length){case 0:return c.call(w);case 1:return c.call(w,g[0]);case 2:return c.call(w,g[0],g[1]);case 3:return c.call(w,g[0],g[1],g[2])}return c.apply(w,g)}function K0(c,w,g,O){for(var x=-1,q=c==null?0:c.length;++x<q;){var oe=c[x];w(O,oe,g(oe),c)}return O}function Se(c,w){for(var g=-1,O=c==null?0:c.length;++g<O&&w(c[g],g,c)!==!1;);return c}function $0(c,w){for(var g=c==null?0:c.length;g--&&w(c[g],g,c)!==!1;);return c}function Eo(c,w){for(var g=-1,O=c==null?0:c.length;++g<O;)if(!w(c[g],g,c))return!1;return!0}function vt(c,w){for(var g=-1,O=c==null?0:c.length,x=0,q=[];++g<O;){var oe=c[g];w(oe,g,c)&&(q[x++]=oe)}return q}function Cr(c,w){var g=c==null?0:c.length;return!!g&&zt(c,w,0)>-1}function Un(c,w,g){for(var O=-1,x=c==null?0:c.length;++O<x;)if(g(w,c[O]))return!0;return!1}function Q(c,w){for(var g=-1,O=c==null?0:c.length,x=Array(O);++g<O;)x[g]=w(c[g],g,c);return x}function mt(c,w){for(var g=-1,O=w.length,x=c.length;++g<O;)c[x+g]=w[g];return c}function zn(c,w,g,O){var x=-1,q=c==null?0:c.length;for(O&&q&&(g=c[++x]);++x<q;)g=w(g,c[x],x,c);return g}function X0(c,w,g,O){var x=c==null?0:c.length;for(O&&x&&(g=c[--x]);x--;)g=w(g,c[x],x,c);return g}function qn(c,w){for(var g=-1,O=c==null?0:c.length;++g<O;)if(w(c[g],g,c))return!0;return!1}var Z0=Hn("length");function V0(c){return c.split("")}function J0(c){return c.match(s0)||[]}function Oo(c,w,g){var O;return g(c,function(x,q,oe){if(w(x,q,oe))return O=q,!1}),O}function Br(c,w,g,O){for(var x=c.length,q=g+(O?1:-1);O?q--:++q<x;)if(w(c[q],q,c))return q;return-1}function zt(c,w,g){return w===w?uh(c,w,g):Br(c,jo,g)}function Q0(c,w,g,O){for(var x=g-1,q=c.length;++x<q;)if(O(c[x],w))return x;return-1}function jo(c){return c!==c}function Io(c,w){var g=c==null?0:c.length;return g?$n(c,w)/g:jr}function Hn(c){return function(w){return w==null?o:w[c]}}function Kn(c){return function(w){return c==null?o:c[w]}}function Lo(c,w,g,O,x){return x(c,function(q,oe,$){g=O?(O=!1,q):w(g,q,oe,$)}),g}function eh(c,w){var g=c.length;for(c.sort(w);g--;)c[g]=c[g].value;return c}function $n(c,w){for(var g,O=-1,x=c.length;++O<x;){var q=w(c[O]);q!==o&&(g=g===o?q:g+q)}return g}function Xn(c,w){for(var g=-1,O=Array(c);++g<c;)O[g]=w(g);return O}function th(c,w){return Q(w,function(g){return[g,c[g]]})}function So(c){return c&&c.slice(0,No(c)+1).replace(Nn,"")}function Ae(c){return function(w){return c(w)}}function Zn(c,w){return Q(w,function(g){return c[g]})}function ur(c,w){return c.has(w)}function Yo(c,w){for(var g=-1,O=c.length;++g<O&&zt(w,c[g],0)>-1;);return g}function xo(c,w){for(var g=c.length;g--&&zt(w,c[g],0)>-1;);return g}function rh(c,w){for(var g=c.length,O=0;g--;)c[g]===w&&++O;return O}var nh=Kn(W0),ih=Kn(F0);function oh(c){return"\\"+U0[c]}function sh(c,w){return c==null?o:c[w]}function qt(c){return C0.test(c)}function ah(c){return B0.test(c)}function hh(c){for(var w,g=[];!(w=c.next()).done;)g.push(w.value);return g}function Vn(c){var w=-1,g=Array(c.size);return c.forEach(function(O,x){g[++w]=[x,O]}),g}function Do(c,w){return function(g){return c(w(g))}}function _t(c,w){for(var g=-1,O=c.length,x=0,q=[];++g<O;){var oe=c[g];(oe===w||oe===V)&&(c[g]=V,q[x++]=g)}return q}function Mr(c){var w=-1,g=Array(c.size);return c.forEach(function(O){g[++w]=O}),g}function lh(c){var w=-1,g=Array(c.size);return c.forEach(function(O){g[++w]=[O,O]}),g}function uh(c,w,g){for(var O=g-1,x=c.length;++O<x;)if(c[O]===w)return O;return-1}function fh(c,w,g){for(var O=g+1;O--;)if(c[O]===w)return O;return O}function Ht(c){return qt(c)?dh(c):Z0(c)}function ze(c){return qt(c)?ph(c):V0(c)}function No(c){for(var w=c.length;w--&&r0.test(c.charAt(w)););return w}var ch=Kn(G0);function dh(c){for(var w=Wn.lastIndex=0;Wn.test(c);)++w;return w}function ph(c){return c.match(Wn)||[]}function gh(c){return c.match(N0)||[]}var wh=function c(w){w=w==null?he:Kt.defaults(he.Object(),w,Kt.pick(he,M0));var g=w.Array,O=w.Date,x=w.Error,q=w.Function,oe=w.Math,$=w.Object,Jn=w.RegExp,bh=w.String,Ye=w.TypeError,Pr=g.prototype,vh=q.prototype,$t=$.prototype,Wr=w["__core-js_shared__"],Fr=vh.toString,K=$t.hasOwnProperty,mh=0,Co=function(){var e=/[^.]+$/.exec(Wr&&Wr.keys&&Wr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Gr=$t.toString,_h=Fr.call($),yh=he._,Th=Jn("^"+Fr.call(K).replace(Dn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=mo?w.Buffer:o,yt=w.Symbol,zr=w.Uint8Array,Bo=Ur?Ur.allocUnsafe:o,qr=Do($.getPrototypeOf,$),Mo=$.create,Po=$t.propertyIsEnumerable,Hr=Pr.splice,Wo=yt?yt.isConcatSpreadable:o,fr=yt?yt.iterator:o,St=yt?yt.toStringTag:o,Kr=function(){try{var e=Ct($,"defineProperty");return e({},"",{}),e}catch{}}(),Ah=w.clearTimeout!==he.clearTimeout&&w.clearTimeout,kh=O&&O.now!==he.Date.now&&O.now,Rh=w.setTimeout!==he.setTimeout&&w.setTimeout,$r=oe.ceil,Xr=oe.floor,Qn=$.getOwnPropertySymbols,Eh=Ur?Ur.isBuffer:o,Fo=w.isFinite,Oh=Pr.join,jh=Do($.keys,$),se=oe.max,ce=oe.min,Ih=O.now,Lh=w.parseInt,Go=oe.random,Sh=Pr.reverse,ei=Ct(w,"DataView"),cr=Ct(w,"Map"),ti=Ct(w,"Promise"),Xt=Ct(w,"Set"),dr=Ct(w,"WeakMap"),pr=Ct($,"create"),Zr=dr&&new dr,Zt={},Yh=Bt(ei),xh=Bt(cr),Dh=Bt(ti),Nh=Bt(Xt),Ch=Bt(dr),Vr=yt?yt.prototype:o,gr=Vr?Vr.valueOf:o,Uo=Vr?Vr.toString:o;function a(e){if(te(e)&&!D(e)&&!(e instanceof W)){if(e instanceof xe)return e;if(K.call(e,"__wrapped__"))return zs(e)}return new xe(e)}var Vt=function(){function e(){}return function(t){if(!ee(t))return{};if(Mo)return Mo(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function Jr(){}function xe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}a.templateSettings={escape:Za,evaluate:Va,interpolate:Vi,variable:"",imports:{_:a}},a.prototype=Jr.prototype,a.prototype.constructor=a,xe.prototype=Vt(Jr.prototype),xe.prototype.constructor=xe;function W(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ve,this.__views__=[]}function Bh(){var e=new W(this.__wrapped__);return e.__actions__=be(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=be(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=be(this.__views__),e}function Mh(){if(this.__filtered__){var e=new W(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ph(){var e=this.__wrapped__.value(),t=this.__dir__,r=D(e),i=t<0,s=r?e.length:0,h=Vl(0,s,this.__views__),l=h.start,u=h.end,d=u-l,b=i?u:l-1,v=this.__iteratees__,_=v.length,k=0,I=ce(d,this.__takeCount__);if(!r||!i&&s==d&&I==d)return ds(e,this.__actions__);var S=[];e:for(;d--&&k<I;){b+=t;for(var B=-1,Y=e[b];++B<_;){var P=v[B],G=P.iteratee,Ee=P.type,we=G(Y);if(Ee==xa)Y=we;else if(!we){if(Ee==wt)continue e;break e}}S[k++]=Y}return S}W.prototype=Vt(Jr.prototype),W.prototype.constructor=W;function Yt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function Wh(){this.__data__=pr?pr(null):{},this.size=0}function Fh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Gh(e){var t=this.__data__;if(pr){var r=t[e];return r===z?o:r}return K.call(t,e)?t[e]:o}function Uh(e){var t=this.__data__;return pr?t[e]!==o:K.call(t,e)}function zh(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pr&&t===o?z:t,this}Yt.prototype.clear=Wh,Yt.prototype.delete=Fh,Yt.prototype.get=Gh,Yt.prototype.has=Uh,Yt.prototype.set=zh;function nt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function qh(){this.__data__=[],this.size=0}function Hh(e){var t=this.__data__,r=Qr(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():Hr.call(t,r,1),--this.size,!0}function Kh(e){var t=this.__data__,r=Qr(t,e);return r<0?o:t[r][1]}function $h(e){return Qr(this.__data__,e)>-1}function Xh(e,t){var r=this.__data__,i=Qr(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}nt.prototype.clear=qh,nt.prototype.delete=Hh,nt.prototype.get=Kh,nt.prototype.has=$h,nt.prototype.set=Xh;function it(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function Zh(){this.size=0,this.__data__={hash:new Yt,map:new(cr||nt),string:new Yt}}function Vh(e){var t=cn(this,e).delete(e);return this.size-=t?1:0,t}function Jh(e){return cn(this,e).get(e)}function Qh(e){return cn(this,e).has(e)}function el(e,t){var r=cn(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}it.prototype.clear=Zh,it.prototype.delete=Vh,it.prototype.get=Jh,it.prototype.has=Qh,it.prototype.set=el;function xt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new it;++t<r;)this.add(e[t])}function tl(e){return this.__data__.set(e,z),this}function rl(e){return this.__data__.has(e)}xt.prototype.add=xt.prototype.push=tl,xt.prototype.has=rl;function qe(e){var t=this.__data__=new nt(e);this.size=t.size}function nl(){this.__data__=new nt,this.size=0}function il(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ol(e){return this.__data__.get(e)}function sl(e){return this.__data__.has(e)}function al(e,t){var r=this.__data__;if(r instanceof nt){var i=r.__data__;if(!cr||i.length<f-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new it(i)}return r.set(e,t),this.size=r.size,this}qe.prototype.clear=nl,qe.prototype.delete=il,qe.prototype.get=ol,qe.prototype.has=sl,qe.prototype.set=al;function zo(e,t){var r=D(e),i=!r&&Mt(e),s=!r&&!i&&Et(e),h=!r&&!i&&!s&&tr(e),l=r||i||s||h,u=l?Xn(e.length,bh):[],d=u.length;for(var b in e)(t||K.call(e,b))&&!(l&&(b=="length"||s&&(b=="offset"||b=="parent")||h&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||ht(b,d)))&&u.push(b);return u}function qo(e){var t=e.length;return t?e[ci(0,t-1)]:o}function hl(e,t){return dn(be(e),Dt(t,0,e.length))}function ll(e){return dn(be(e))}function ri(e,t,r){(r!==o&&!He(e[t],r)||r===o&&!(t in e))&&ot(e,t,r)}function wr(e,t,r){var i=e[t];(!(K.call(e,t)&&He(i,r))||r===o&&!(t in e))&&ot(e,t,r)}function Qr(e,t){for(var r=e.length;r--;)if(He(e[r][0],t))return r;return-1}function ul(e,t,r,i){return Tt(e,function(s,h,l){t(i,s,r(s),l)}),i}function Ho(e,t){return e&&Qe(t,ae(t),e)}function fl(e,t){return e&&Qe(t,me(t),e)}function ot(e,t,r){t=="__proto__"&&Kr?Kr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ni(e,t){for(var r=-1,i=t.length,s=g(i),h=e==null;++r<i;)s[r]=h?o:Bi(e,t[r]);return s}function Dt(e,t,r){return e===e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function De(e,t,r,i,s,h){var l,u=t&ue,d=t&$e,b=t&Pe;if(r&&(l=s?r(e,i,s,h):r(e)),l!==o)return l;if(!ee(e))return e;var v=D(e);if(v){if(l=Ql(e),!u)return be(e,l)}else{var _=de(e),k=_==Sr||_==Ki;if(Et(e))return ws(e,u);if(_==rt||_==Ft||k&&!s){if(l=d||k?{}:Ns(e),!u)return d?Gl(e,fl(l,e)):Fl(e,Ho(l,e))}else{if(!Z[_])return s?e:{};l=eu(e,_,u)}}h||(h=new qe);var I=h.get(e);if(I)return I;h.set(e,l),ua(e)?e.forEach(function(Y){l.add(De(Y,t,r,Y,e,h))}):ha(e)&&e.forEach(function(Y,P){l.set(P,De(Y,t,r,P,e,h))});var S=b?d?Ai:Ti:d?me:ae,B=v?o:S(e);return Se(B||e,function(Y,P){B&&(P=Y,Y=e[P]),wr(l,P,De(Y,t,r,P,e,h))}),l}function cl(e){var t=ae(e);return function(r){return Ko(r,e,t)}}function Ko(e,t,r){var i=r.length;if(e==null)return!i;for(e=$(e);i--;){var s=r[i],h=t[s],l=e[s];if(l===o&&!(s in e)||!h(l))return!1}return!0}function $o(e,t,r){if(typeof e!="function")throw new Ye(E);return Ar(function(){e.apply(o,r)},t)}function br(e,t,r,i){var s=-1,h=Cr,l=!0,u=e.length,d=[],b=t.length;if(!u)return d;r&&(t=Q(t,Ae(r))),i?(h=Un,l=!1):t.length>=f&&(h=ur,l=!1,t=new xt(t));e:for(;++s<u;){var v=e[s],_=r==null?v:r(v);if(v=i||v!==0?v:0,l&&_===_){for(var k=b;k--;)if(t[k]===_)continue e;d.push(v)}else h(t,_,i)||d.push(v)}return d}var Tt=ys(Je),Xo=ys(oi,!0);function dl(e,t){var r=!0;return Tt(e,function(i,s,h){return r=!!t(i,s,h),r}),r}function en(e,t,r){for(var i=-1,s=e.length;++i<s;){var h=e[i],l=t(h);if(l!=null&&(u===o?l===l&&!Re(l):r(l,u)))var u=l,d=h}return d}function pl(e,t,r,i){var s=e.length;for(r=N(r),r<0&&(r=-r>s?0:s+r),i=i===o||i>s?s:N(i),i<0&&(i+=s),i=r>i?0:ca(i);r<i;)e[r++]=t;return e}function Zo(e,t){var r=[];return Tt(e,function(i,s,h){t(i,s,h)&&r.push(i)}),r}function le(e,t,r,i,s){var h=-1,l=e.length;for(r||(r=ru),s||(s=[]);++h<l;){var u=e[h];t>0&&r(u)?t>1?le(u,t-1,r,i,s):mt(s,u):i||(s[s.length]=u)}return s}var ii=Ts(),Vo=Ts(!0);function Je(e,t){return e&&ii(e,t,ae)}function oi(e,t){return e&&Vo(e,t,ae)}function tn(e,t){return vt(t,function(r){return lt(e[r])})}function Nt(e,t){t=kt(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[et(t[r++])];return r&&r==i?e:o}function Jo(e,t,r){var i=t(e);return D(e)?i:mt(i,r(e))}function pe(e){return e==null?e===o?Ua:Fa:St&&St in $(e)?Zl(e):lu(e)}function si(e,t){return e>t}function gl(e,t){return e!=null&&K.call(e,t)}function wl(e,t){return e!=null&&t in $(e)}function bl(e,t,r){return e>=ce(t,r)&&e<se(t,r)}function ai(e,t,r){for(var i=r?Un:Cr,s=e[0].length,h=e.length,l=h,u=g(h),d=1/0,b=[];l--;){var v=e[l];l&&t&&(v=Q(v,Ae(t))),d=ce(v.length,d),u[l]=!r&&(t||s>=120&&v.length>=120)?new xt(l&&v):o}v=e[0];var _=-1,k=u[0];e:for(;++_<s&&b.length<d;){var I=v[_],S=t?t(I):I;if(I=r||I!==0?I:0,!(k?ur(k,S):i(b,S,r))){for(l=h;--l;){var B=u[l];if(!(B?ur(B,S):i(e[l],S,r)))continue e}k&&k.push(S),b.push(I)}}return b}function vl(e,t,r,i){return Je(e,function(s,h,l){t(i,r(s),h,l)}),i}function vr(e,t,r){t=kt(t,e),e=Ps(e,t);var i=e==null?e:e[et(Ce(t))];return i==null?o:Te(i,e,r)}function Qo(e){return te(e)&&pe(e)==Ft}function ml(e){return te(e)&&pe(e)==lr}function _l(e){return te(e)&&pe(e)==ir}function mr(e,t,r,i,s){return e===t?!0:e==null||t==null||!te(e)&&!te(t)?e!==e&&t!==t:yl(e,t,r,i,mr,s)}function yl(e,t,r,i,s,h){var l=D(e),u=D(t),d=l?Ir:de(e),b=u?Ir:de(t);d=d==Ft?rt:d,b=b==Ft?rt:b;var v=d==rt,_=b==rt,k=d==b;if(k&&Et(e)){if(!Et(t))return!1;l=!0,v=!1}if(k&&!v)return h||(h=new qe),l||tr(e)?Ys(e,t,r,i,s,h):$l(e,t,d,r,i,s,h);if(!(r&je)){var I=v&&K.call(e,"__wrapped__"),S=_&&K.call(t,"__wrapped__");if(I||S){var B=I?e.value():e,Y=S?t.value():t;return h||(h=new qe),s(B,Y,r,i,h)}}return k?(h||(h=new qe),Xl(e,t,r,i,s,h)):!1}function Tl(e){return te(e)&&de(e)==Ge}function hi(e,t,r,i){var s=r.length,h=s,l=!i;if(e==null)return!h;for(e=$(e);s--;){var u=r[s];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<h;){u=r[s];var d=u[0],b=e[d],v=u[1];if(l&&u[2]){if(b===o&&!(d in e))return!1}else{var _=new qe;if(i)var k=i(b,v,d,e,t,_);if(!(k===o?mr(v,b,je|dt,i,_):k))return!1}}return!0}function es(e){if(!ee(e)||iu(e))return!1;var t=lt(e)?Th:c0;return t.test(Bt(e))}function Al(e){return te(e)&&pe(e)==sr}function kl(e){return te(e)&&de(e)==Ue}function Rl(e){return te(e)&&mn(e.length)&&!!J[pe(e)]}function ts(e){return typeof e=="function"?e:e==null?_e:typeof e=="object"?D(e)?is(e[0],e[1]):ns(e):Aa(e)}function li(e){if(!Tr(e))return jh(e);var t=[];for(var r in $(e))K.call(e,r)&&r!="constructor"&&t.push(r);return t}function El(e){if(!ee(e))return hu(e);var t=Tr(e),r=[];for(var i in e)i=="constructor"&&(t||!K.call(e,i))||r.push(i);return r}function ui(e,t){return e<t}function rs(e,t){var r=-1,i=ve(e)?g(e.length):[];return Tt(e,function(s,h,l){i[++r]=t(s,h,l)}),i}function ns(e){var t=Ri(e);return t.length==1&&t[0][2]?Bs(t[0][0],t[0][1]):function(r){return r===e||hi(r,e,t)}}function is(e,t){return Oi(e)&&Cs(t)?Bs(et(e),t):function(r){var i=Bi(r,e);return i===o&&i===t?Mi(r,e):mr(t,i,je|dt)}}function rn(e,t,r,i,s){e!==t&&ii(t,function(h,l){if(s||(s=new qe),ee(h))Ol(e,t,l,r,rn,i,s);else{var u=i?i(Ii(e,l),h,l+"",e,t,s):o;u===o&&(u=h),ri(e,l,u)}},me)}function Ol(e,t,r,i,s,h,l){var u=Ii(e,r),d=Ii(t,r),b=l.get(d);if(b){ri(e,r,b);return}var v=h?h(u,d,r+"",e,t,l):o,_=v===o;if(_){var k=D(d),I=!k&&Et(d),S=!k&&!I&&tr(d);v=d,k||I||S?D(u)?v=u:re(u)?v=be(u):I?(_=!1,v=ws(d,!0)):S?(_=!1,v=bs(d,!0)):v=[]:kr(d)||Mt(d)?(v=u,Mt(u)?v=da(u):(!ee(u)||lt(u))&&(v=Ns(d))):_=!1}_&&(l.set(d,v),s(v,d,i,h,l),l.delete(d)),ri(e,r,v)}function os(e,t){var r=e.length;if(r)return t+=t<0?r:0,ht(t,r)?e[t]:o}function ss(e,t,r){t.length?t=Q(t,function(h){return D(h)?function(l){return Nt(l,h.length===1?h[0]:h)}:h}):t=[_e];var i=-1;t=Q(t,Ae(L()));var s=rs(e,function(h,l,u){var d=Q(t,function(b){return b(h)});return{criteria:d,index:++i,value:h}});return eh(s,function(h,l){return Wl(h,l,r)})}function jl(e,t){return as(e,t,function(r,i){return Mi(e,i)})}function as(e,t,r){for(var i=-1,s=t.length,h={};++i<s;){var l=t[i],u=Nt(e,l);r(u,l)&&_r(h,kt(l,e),u)}return h}function Il(e){return function(t){return Nt(t,e)}}function fi(e,t,r,i){var s=i?Q0:zt,h=-1,l=t.length,u=e;for(e===t&&(t=be(t)),r&&(u=Q(e,Ae(r)));++h<l;)for(var d=0,b=t[h],v=r?r(b):b;(d=s(u,v,d,i))>-1;)u!==e&&Hr.call(u,d,1),Hr.call(e,d,1);return e}function hs(e,t){for(var r=e?t.length:0,i=r-1;r--;){var s=t[r];if(r==i||s!==h){var h=s;ht(s)?Hr.call(e,s,1):gi(e,s)}}return e}function ci(e,t){return e+Xr(Go()*(t-e+1))}function Ll(e,t,r,i){for(var s=-1,h=se($r((t-e)/(r||1)),0),l=g(h);h--;)l[i?h:++s]=e,e+=r;return l}function di(e,t){var r="";if(!e||t<1||t>bt)return r;do t%2&&(r+=e),t=Xr(t/2),t&&(e+=e);while(t);return r}function M(e,t){return Li(Ms(e,t,_e),e+"")}function Sl(e){return qo(rr(e))}function Yl(e,t){var r=rr(e);return dn(r,Dt(t,0,r.length))}function _r(e,t,r,i){if(!ee(e))return e;t=kt(t,e);for(var s=-1,h=t.length,l=h-1,u=e;u!=null&&++s<h;){var d=et(t[s]),b=r;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(s!=l){var v=u[d];b=i?i(v,d,u):o,b===o&&(b=ee(v)?v:ht(t[s+1])?[]:{})}wr(u,d,b),u=u[d]}return e}var ls=Zr?function(e,t){return Zr.set(e,t),e}:_e,xl=Kr?function(e,t){return Kr(e,"toString",{configurable:!0,enumerable:!1,value:Wi(t),writable:!0})}:_e;function Dl(e){return dn(rr(e))}function Ne(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var h=g(s);++i<s;)h[i]=e[i+t];return h}function Nl(e,t){var r;return Tt(e,function(i,s,h){return r=t(i,s,h),!r}),!!r}function nn(e,t,r){var i=0,s=e==null?i:e.length;if(typeof t=="number"&&t===t&&s<=Ba){for(;i<s;){var h=i+s>>>1,l=e[h];l!==null&&!Re(l)&&(r?l<=t:l<t)?i=h+1:s=h}return s}return pi(e,t,_e,r)}function pi(e,t,r,i){var s=0,h=e==null?0:e.length;if(h===0)return 0;t=r(t);for(var l=t!==t,u=t===null,d=Re(t),b=t===o;s<h;){var v=Xr((s+h)/2),_=r(e[v]),k=_!==o,I=_===null,S=_===_,B=Re(_);if(l)var Y=i||S;else b?Y=S&&(i||k):u?Y=S&&k&&(i||!I):d?Y=S&&k&&!I&&(i||!B):I||B?Y=!1:Y=i?_<=t:_<t;Y?s=v+1:h=v}return ce(h,Ca)}function us(e,t){for(var r=-1,i=e.length,s=0,h=[];++r<i;){var l=e[r],u=t?t(l):l;if(!r||!He(u,d)){var d=u;h[s++]=l===0?0:l}}return h}function fs(e){return typeof e=="number"?e:Re(e)?jr:+e}function ke(e){if(typeof e=="string")return e;if(D(e))return Q(e,ke)+"";if(Re(e))return Uo?Uo.call(e):"";var t=e+"";return t=="0"&&1/e==-It?"-0":t}function At(e,t,r){var i=-1,s=Cr,h=e.length,l=!0,u=[],d=u;if(r)l=!1,s=Un;else if(h>=f){var b=t?null:Hl(e);if(b)return Mr(b);l=!1,s=ur,d=new xt}else d=t?[]:u;e:for(;++i<h;){var v=e[i],_=t?t(v):v;if(v=r||v!==0?v:0,l&&_===_){for(var k=d.length;k--;)if(d[k]===_)continue e;t&&d.push(_),u.push(v)}else s(d,_,r)||(d!==u&&d.push(_),u.push(v))}return u}function gi(e,t){return t=kt(t,e),e=Ps(e,t),e==null||delete e[et(Ce(t))]}function cs(e,t,r,i){return _r(e,t,r(Nt(e,t)),i)}function on(e,t,r,i){for(var s=e.length,h=i?s:-1;(i?h--:++h<s)&&t(e[h],h,e););return r?Ne(e,i?0:h,i?h+1:s):Ne(e,i?h+1:0,i?s:h)}function ds(e,t){var r=e;return r instanceof W&&(r=r.value()),zn(t,function(i,s){return s.func.apply(s.thisArg,mt([i],s.args))},r)}function wi(e,t,r){var i=e.length;if(i<2)return i?At(e[0]):[];for(var s=-1,h=g(i);++s<i;)for(var l=e[s],u=-1;++u<i;)u!=s&&(h[s]=br(h[s]||l,e[u],t,r));return At(le(h,1),t,r)}function ps(e,t,r){for(var i=-1,s=e.length,h=t.length,l={};++i<s;){var u=i<h?t[i]:o;r(l,e[i],u)}return l}function bi(e){return re(e)?e:[]}function vi(e){return typeof e=="function"?e:_e}function kt(e,t){return D(e)?e:Oi(e,t)?[e]:Us(H(e))}var Cl=M;function Rt(e,t,r){var i=e.length;return r=r===o?i:r,!t&&r>=i?e:Ne(e,t,r)}var gs=Ah||function(e){return he.clearTimeout(e)};function ws(e,t){if(t)return e.slice();var r=e.length,i=Bo?Bo(r):new e.constructor(r);return e.copy(i),i}function mi(e){var t=new e.constructor(e.byteLength);return new zr(t).set(new zr(e)),t}function Bl(e,t){var r=t?mi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Ml(e){var t=new e.constructor(e.source,Ji.exec(e));return t.lastIndex=e.lastIndex,t}function Pl(e){return gr?$(gr.call(e)):{}}function bs(e,t){var r=t?mi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function vs(e,t){if(e!==t){var r=e!==o,i=e===null,s=e===e,h=Re(e),l=t!==o,u=t===null,d=t===t,b=Re(t);if(!u&&!b&&!h&&e>t||h&&l&&d&&!u&&!b||i&&l&&d||!r&&d||!s)return 1;if(!i&&!h&&!b&&e<t||b&&r&&s&&!i&&!h||u&&r&&s||!l&&s||!d)return-1}return 0}function Wl(e,t,r){for(var i=-1,s=e.criteria,h=t.criteria,l=s.length,u=r.length;++i<l;){var d=vs(s[i],h[i]);if(d){if(i>=u)return d;var b=r[i];return d*(b=="desc"?-1:1)}}return e.index-t.index}function ms(e,t,r,i){for(var s=-1,h=e.length,l=r.length,u=-1,d=t.length,b=se(h-l,0),v=g(d+b),_=!i;++u<d;)v[u]=t[u];for(;++s<l;)(_||s<h)&&(v[r[s]]=e[s]);for(;b--;)v[u++]=e[s++];return v}function _s(e,t,r,i){for(var s=-1,h=e.length,l=-1,u=r.length,d=-1,b=t.length,v=se(h-u,0),_=g(v+b),k=!i;++s<v;)_[s]=e[s];for(var I=s;++d<b;)_[I+d]=t[d];for(;++l<u;)(k||s<h)&&(_[I+r[l]]=e[s++]);return _}function be(e,t){var r=-1,i=e.length;for(t||(t=g(i));++r<i;)t[r]=e[r];return t}function Qe(e,t,r,i){var s=!r;r||(r={});for(var h=-1,l=t.length;++h<l;){var u=t[h],d=i?i(r[u],e[u],u,r,e):o;d===o&&(d=e[u]),s?ot(r,u,d):wr(r,u,d)}return r}function Fl(e,t){return Qe(e,Ei(e),t)}function Gl(e,t){return Qe(e,xs(e),t)}function sn(e,t){return function(r,i){var s=D(r)?K0:ul,h=t?t():{};return s(r,e,L(i,2),h)}}function Jt(e){return M(function(t,r){var i=-1,s=r.length,h=s>1?r[s-1]:o,l=s>2?r[2]:o;for(h=e.length>3&&typeof h=="function"?(s--,h):o,l&&ge(r[0],r[1],l)&&(h=s<3?o:h,s=1),t=$(t);++i<s;){var u=r[i];u&&e(t,u,i,h)}return t})}function ys(e,t){return function(r,i){if(r==null)return r;if(!ve(r))return e(r,i);for(var s=r.length,h=t?s:-1,l=$(r);(t?h--:++h<s)&&i(l[h],h,l)!==!1;);return r}}function Ts(e){return function(t,r,i){for(var s=-1,h=$(t),l=i(t),u=l.length;u--;){var d=l[e?u:++s];if(r(h[d],d,h)===!1)break}return t}}function Ul(e,t,r){var i=t&fe,s=yr(e);function h(){var l=this&&this!==he&&this instanceof h?s:e;return l.apply(i?r:this,arguments)}return h}function As(e){return function(t){t=H(t);var r=qt(t)?ze(t):o,i=r?r[0]:t.charAt(0),s=r?Rt(r,1).join(""):t.slice(1);return i[e]()+s}}function Qt(e){return function(t){return zn(ya(_a(t).replace(x0,"")),e,"")}}function yr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Vt(e.prototype),i=e.apply(r,t);return ee(i)?i:r}}function zl(e,t,r){var i=yr(e);function s(){for(var h=arguments.length,l=g(h),u=h,d=er(s);u--;)l[u]=arguments[u];var b=h<3&&l[0]!==d&&l[h-1]!==d?[]:_t(l,d);if(h-=b.length,h<r)return js(e,t,an,s.placeholder,o,l,b,o,o,r-h);var v=this&&this!==he&&this instanceof s?i:e;return Te(v,this,l)}return s}function ks(e){return function(t,r,i){var s=$(t);if(!ve(t)){var h=L(r,3);t=ae(t),r=function(u){return h(s[u],u,s)}}var l=e(t,r,i);return l>-1?s[h?t[l]:l]:o}}function Rs(e){return at(function(t){var r=t.length,i=r,s=xe.prototype.thru;for(e&&t.reverse();i--;){var h=t[i];if(typeof h!="function")throw new Ye(E);if(s&&!l&&fn(h)=="wrapper")var l=new xe([],!0)}for(i=l?i:r;++i<r;){h=t[i];var u=fn(h),d=u=="wrapper"?ki(h):o;d&&ji(d[0])&&d[1]==(Fe|ye|Ie|jt)&&!d[4].length&&d[9]==1?l=l[fn(d[0])].apply(l,d[3]):l=h.length==1&&ji(h)?l[u]():l.thru(h)}return function(){var b=arguments,v=b[0];if(l&&b.length==1&&D(v))return l.plant(v).value();for(var _=0,k=r?t[_].apply(this,b):v;++_<r;)k=t[_].call(this,k);return k}})}function an(e,t,r,i,s,h,l,u,d,b){var v=t&Fe,_=t&fe,k=t&We,I=t&(ye|tt),S=t&gt,B=k?o:yr(e);function Y(){for(var P=arguments.length,G=g(P),Ee=P;Ee--;)G[Ee]=arguments[Ee];if(I)var we=er(Y),Oe=rh(G,we);if(i&&(G=ms(G,i,s,I)),h&&(G=_s(G,h,l,I)),P-=Oe,I&&P<b){var ne=_t(G,we);return js(e,t,an,Y.placeholder,r,G,ne,u,d,b-P)}var Ke=_?r:this,ft=k?Ke[e]:e;return P=G.length,u?G=uu(G,u):S&&P>1&&G.reverse(),v&&d<P&&(G.length=d),this&&this!==he&&this instanceof Y&&(ft=B||yr(ft)),ft.apply(Ke,G)}return Y}function Es(e,t){return function(r,i){return vl(r,e,t(i),{})}}function hn(e,t){return function(r,i){var s;if(r===o&&i===o)return t;if(r!==o&&(s=r),i!==o){if(s===o)return i;typeof r=="string"||typeof i=="string"?(r=ke(r),i=ke(i)):(r=fs(r),i=fs(i)),s=e(r,i)}return s}}function _i(e){return at(function(t){return t=Q(t,Ae(L())),M(function(r){var i=this;return e(t,function(s){return Te(s,i,r)})})})}function ln(e,t){t=t===o?" ":ke(t);var r=t.length;if(r<2)return r?di(t,e):t;var i=di(t,$r(e/Ht(t)));return qt(t)?Rt(ze(i),0,e).join(""):i.slice(0,e)}function ql(e,t,r,i){var s=t&fe,h=yr(e);function l(){for(var u=-1,d=arguments.length,b=-1,v=i.length,_=g(v+d),k=this&&this!==he&&this instanceof l?h:e;++b<v;)_[b]=i[b];for(;d--;)_[b++]=arguments[++u];return Te(k,s?r:this,_)}return l}function Os(e){return function(t,r,i){return i&&typeof i!="number"&&ge(t,r,i)&&(r=i=o),t=ut(t),r===o?(r=t,t=0):r=ut(r),i=i===o?t<r?1:-1:ut(i),Ll(t,r,i,e)}}function un(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=Be(t),r=Be(r)),e(t,r)}}function js(e,t,r,i,s,h,l,u,d,b){var v=t&ye,_=v?l:o,k=v?o:l,I=v?h:o,S=v?o:h;t|=v?Ie:pt,t&=~(v?pt:Ie),t&Xe||(t&=~(fe|We));var B=[e,t,s,I,_,S,k,u,d,b],Y=r.apply(o,B);return ji(e)&&Ws(Y,B),Y.placeholder=i,Fs(Y,e,t)}function yi(e){var t=oe[e];return function(r,i){if(r=Be(r),i=i==null?0:ce(N(i),292),i&&Fo(r)){var s=(H(r)+"e").split("e"),h=t(s[0]+"e"+(+s[1]+i));return s=(H(h)+"e").split("e"),+(s[0]+"e"+(+s[1]-i))}return t(r)}}var Hl=Xt&&1/Mr(new Xt([,-0]))[1]==It?function(e){return new Xt(e)}:Ui;function Is(e){return function(t){var r=de(t);return r==Ge?Vn(t):r==Ue?lh(t):th(t,e(t))}}function st(e,t,r,i,s,h,l,u){var d=t&We;if(!d&&typeof e!="function")throw new Ye(E);var b=i?i.length:0;if(b||(t&=~(Ie|pt),i=s=o),l=l===o?l:se(N(l),0),u=u===o?u:N(u),b-=s?s.length:0,t&pt){var v=i,_=s;i=s=o}var k=d?o:ki(e),I=[e,t,r,i,s,v,_,h,l,u];if(k&&au(I,k),e=I[0],t=I[1],r=I[2],i=I[3],s=I[4],u=I[9]=I[9]===o?d?0:e.length:se(I[9]-b,0),!u&&t&(ye|tt)&&(t&=~(ye|tt)),!t||t==fe)var S=Ul(e,t,r);else t==ye||t==tt?S=zl(e,t,u):(t==Ie||t==(fe|Ie))&&!s.length?S=ql(e,t,r,i):S=an.apply(o,I);var B=k?ls:Ws;return Fs(B(S,I),e,t)}function Ls(e,t,r,i){return e===o||He(e,$t[r])&&!K.call(i,r)?t:e}function Ss(e,t,r,i,s,h){return ee(e)&&ee(t)&&(h.set(t,e),rn(e,t,o,Ss,h),h.delete(t)),e}function Kl(e){return kr(e)?o:e}function Ys(e,t,r,i,s,h){var l=r&je,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var b=h.get(e),v=h.get(t);if(b&&v)return b==t&&v==e;var _=-1,k=!0,I=r&dt?new xt:o;for(h.set(e,t),h.set(t,e);++_<u;){var S=e[_],B=t[_];if(i)var Y=l?i(B,S,_,t,e,h):i(S,B,_,e,t,h);if(Y!==o){if(Y)continue;k=!1;break}if(I){if(!qn(t,function(P,G){if(!ur(I,G)&&(S===P||s(S,P,r,i,h)))return I.push(G)})){k=!1;break}}else if(!(S===B||s(S,B,r,i,h))){k=!1;break}}return h.delete(e),h.delete(t),k}function $l(e,t,r,i,s,h,l){switch(r){case Gt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lr:return!(e.byteLength!=t.byteLength||!h(new zr(e),new zr(t)));case nr:case ir:case or:return He(+e,+t);case Lr:return e.name==t.name&&e.message==t.message;case sr:case ar:return e==t+"";case Ge:var u=Vn;case Ue:var d=i&je;if(u||(u=Mr),e.size!=t.size&&!d)return!1;var b=l.get(e);if(b)return b==t;i|=dt,l.set(e,t);var v=Ys(u(e),u(t),i,s,h,l);return l.delete(e),v;case Yr:if(gr)return gr.call(e)==gr.call(t)}return!1}function Xl(e,t,r,i,s,h){var l=r&je,u=Ti(e),d=u.length,b=Ti(t),v=b.length;if(d!=v&&!l)return!1;for(var _=d;_--;){var k=u[_];if(!(l?k in t:K.call(t,k)))return!1}var I=h.get(e),S=h.get(t);if(I&&S)return I==t&&S==e;var B=!0;h.set(e,t),h.set(t,e);for(var Y=l;++_<d;){k=u[_];var P=e[k],G=t[k];if(i)var Ee=l?i(G,P,k,t,e,h):i(P,G,k,e,t,h);if(!(Ee===o?P===G||s(P,G,r,i,h):Ee)){B=!1;break}Y||(Y=k=="constructor")}if(B&&!Y){var we=e.constructor,Oe=t.constructor;we!=Oe&&"constructor"in e&&"constructor"in t&&!(typeof we=="function"&&we instanceof we&&typeof Oe=="function"&&Oe instanceof Oe)&&(B=!1)}return h.delete(e),h.delete(t),B}function at(e){return Li(Ms(e,o,Ks),e+"")}function Ti(e){return Jo(e,ae,Ei)}function Ai(e){return Jo(e,me,xs)}var ki=Zr?function(e){return Zr.get(e)}:Ui;function fn(e){for(var t=e.name+"",r=Zt[t],i=K.call(Zt,t)?r.length:0;i--;){var s=r[i],h=s.func;if(h==null||h==e)return s.name}return t}function er(e){var t=K.call(a,"placeholder")?a:e;return t.placeholder}function L(){var e=a.iteratee||Fi;return e=e===Fi?ts:e,arguments.length?e(arguments[0],arguments[1]):e}function cn(e,t){var r=e.__data__;return nu(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ri(e){for(var t=ae(e),r=t.length;r--;){var i=t[r],s=e[i];t[r]=[i,s,Cs(s)]}return t}function Ct(e,t){var r=sh(e,t);return es(r)?r:o}function Zl(e){var t=K.call(e,St),r=e[St];try{e[St]=o;var i=!0}catch{}var s=Gr.call(e);return i&&(t?e[St]=r:delete e[St]),s}var Ei=Qn?function(e){return e==null?[]:(e=$(e),vt(Qn(e),function(t){return Po.call(e,t)}))}:zi,xs=Qn?function(e){for(var t=[];e;)mt(t,Ei(e)),e=qr(e);return t}:zi,de=pe;(ei&&de(new ei(new ArrayBuffer(1)))!=Gt||cr&&de(new cr)!=Ge||ti&&de(ti.resolve())!=$i||Xt&&de(new Xt)!=Ue||dr&&de(new dr)!=hr)&&(de=function(e){var t=pe(e),r=t==rt?e.constructor:o,i=r?Bt(r):"";if(i)switch(i){case Yh:return Gt;case xh:return Ge;case Dh:return $i;case Nh:return Ue;case Ch:return hr}return t});function Vl(e,t,r){for(var i=-1,s=r.length;++i<s;){var h=r[i],l=h.size;switch(h.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=ce(t,e+l);break;case"takeRight":e=se(e,t-l);break}}return{start:e,end:t}}function Jl(e){var t=e.match(i0);return t?t[1].split(o0):[]}function Ds(e,t,r){t=kt(t,e);for(var i=-1,s=t.length,h=!1;++i<s;){var l=et(t[i]);if(!(h=e!=null&&r(e,l)))break;e=e[l]}return h||++i!=s?h:(s=e==null?0:e.length,!!s&&mn(s)&&ht(l,s)&&(D(e)||Mt(e)))}function Ql(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&K.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Ns(e){return typeof e.constructor=="function"&&!Tr(e)?Vt(qr(e)):{}}function eu(e,t,r){var i=e.constructor;switch(t){case lr:return mi(e);case nr:case ir:return new i(+e);case Gt:return Bl(e,r);case Rn:case En:case On:case jn:case In:case Ln:case Sn:case Yn:case xn:return bs(e,r);case Ge:return new i;case or:case ar:return new i(e);case sr:return Ml(e);case Ue:return new i;case Yr:return Pl(e)}}function tu(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n0,`{
/* [wrapped with `+t+`] */
`)}function ru(e){return D(e)||Mt(e)||!!(Wo&&e&&e[Wo])}function ht(e,t){var r=typeof e;return t=t??bt,!!t&&(r=="number"||r!="symbol"&&p0.test(e))&&e>-1&&e%1==0&&e<t}function ge(e,t,r){if(!ee(r))return!1;var i=typeof t;return(i=="number"?ve(r)&&ht(t,r.length):i=="string"&&t in r)?He(r[t],e):!1}function Oi(e,t){if(D(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Re(e)?!0:Qa.test(e)||!Ja.test(e)||t!=null&&e in $(t)}function nu(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ji(e){var t=fn(e),r=a[t];if(typeof r!="function"||!(t in W.prototype))return!1;if(e===r)return!0;var i=ki(r);return!!i&&e===i[0]}function iu(e){return!!Co&&Co in e}var ou=Wr?lt:qi;function Tr(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$t;return e===r}function Cs(e){return e===e&&!ee(e)}function Bs(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==o||e in $(r))}}function su(e){var t=bn(e,function(i){return r.size===X&&r.clear(),i}),r=t.cache;return t}function au(e,t){var r=e[1],i=t[1],s=r|i,h=s<(fe|We|Fe),l=i==Fe&&r==ye||i==Fe&&r==jt&&e[7].length<=t[8]||i==(Fe|jt)&&t[7].length<=t[8]&&r==ye;if(!(h||l))return e;i&fe&&(e[2]=t[2],s|=r&fe?0:Xe);var u=t[3];if(u){var d=e[3];e[3]=d?ms(d,u,t[4]):u,e[4]=d?_t(e[3],V):t[4]}return u=t[5],u&&(d=e[5],e[5]=d?_s(d,u,t[6]):u,e[6]=d?_t(e[5],V):t[6]),u=t[7],u&&(e[7]=u),i&Fe&&(e[8]=e[8]==null?t[8]:ce(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function hu(e){var t=[];if(e!=null)for(var r in $(e))t.push(r);return t}function lu(e){return Gr.call(e)}function Ms(e,t,r){return t=se(t===o?e.length-1:t,0),function(){for(var i=arguments,s=-1,h=se(i.length-t,0),l=g(h);++s<h;)l[s]=i[t+s];s=-1;for(var u=g(t+1);++s<t;)u[s]=i[s];return u[t]=r(l),Te(e,this,u)}}function Ps(e,t){return t.length<2?e:Nt(e,Ne(t,0,-1))}function uu(e,t){for(var r=e.length,i=ce(t.length,r),s=be(e);i--;){var h=t[i];e[i]=ht(h,r)?s[h]:o}return e}function Ii(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ws=Gs(ls),Ar=Rh||function(e,t){return he.setTimeout(e,t)},Li=Gs(xl);function Fs(e,t,r){var i=t+"";return Li(e,tu(i,fu(Jl(i),r)))}function Gs(e){var t=0,r=0;return function(){var i=Ih(),s=Ze-(i-r);if(r=i,s>0){if(++t>=ie)return arguments[0]}else t=0;return e.apply(o,arguments)}}function dn(e,t){var r=-1,i=e.length,s=i-1;for(t=t===o?i:t;++r<t;){var h=ci(r,s),l=e[h];e[h]=e[r],e[r]=l}return e.length=t,e}var Us=su(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(e0,function(r,i,s,h){t.push(s?h.replace(h0,"$1"):i||r)}),t});function et(e){if(typeof e=="string"||Re(e))return e;var t=e+"";return t=="0"&&1/e==-It?"-0":t}function Bt(e){if(e!=null){try{return Fr.call(e)}catch{}try{return e+""}catch{}}return""}function fu(e,t){return Se(Ma,function(r){var i="_."+r[0];t&r[1]&&!Cr(e,i)&&e.push(i)}),e.sort()}function zs(e){if(e instanceof W)return e.clone();var t=new xe(e.__wrapped__,e.__chain__);return t.__actions__=be(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function cu(e,t,r){(r?ge(e,t,r):t===o)?t=1:t=se(N(t),0);var i=e==null?0:e.length;if(!i||t<1)return[];for(var s=0,h=0,l=g($r(i/t));s<i;)l[h++]=Ne(e,s,s+=t);return l}function du(e){for(var t=-1,r=e==null?0:e.length,i=0,s=[];++t<r;){var h=e[t];h&&(s[i++]=h)}return s}function pu(){var e=arguments.length;if(!e)return[];for(var t=g(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return mt(D(r)?be(r):[r],le(t,1))}var gu=M(function(e,t){return re(e)?br(e,le(t,1,re,!0)):[]}),wu=M(function(e,t){var r=Ce(t);return re(r)&&(r=o),re(e)?br(e,le(t,1,re,!0),L(r,2)):[]}),bu=M(function(e,t){var r=Ce(t);return re(r)&&(r=o),re(e)?br(e,le(t,1,re,!0),o,r):[]});function vu(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===o?1:N(t),Ne(e,t<0?0:t,i)):[]}function mu(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===o?1:N(t),t=i-t,Ne(e,0,t<0?0:t)):[]}function _u(e,t){return e&&e.length?on(e,L(t,3),!0,!0):[]}function yu(e,t){return e&&e.length?on(e,L(t,3),!0):[]}function Tu(e,t,r,i){var s=e==null?0:e.length;return s?(r&&typeof r!="number"&&ge(e,t,r)&&(r=0,i=s),pl(e,t,r,i)):[]}function qs(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var s=r==null?0:N(r);return s<0&&(s=se(i+s,0)),Br(e,L(t,3),s)}function Hs(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var s=i-1;return r!==o&&(s=N(r),s=r<0?se(i+s,0):ce(s,i-1)),Br(e,L(t,3),s,!0)}function Ks(e){var t=e==null?0:e.length;return t?le(e,1):[]}function Au(e){var t=e==null?0:e.length;return t?le(e,It):[]}function ku(e,t){var r=e==null?0:e.length;return r?(t=t===o?1:N(t),le(e,t)):[]}function Ru(e){for(var t=-1,r=e==null?0:e.length,i={};++t<r;){var s=e[t];i[s[0]]=s[1]}return i}function $s(e){return e&&e.length?e[0]:o}function Eu(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var s=r==null?0:N(r);return s<0&&(s=se(i+s,0)),zt(e,t,s)}function Ou(e){var t=e==null?0:e.length;return t?Ne(e,0,-1):[]}var ju=M(function(e){var t=Q(e,bi);return t.length&&t[0]===e[0]?ai(t):[]}),Iu=M(function(e){var t=Ce(e),r=Q(e,bi);return t===Ce(r)?t=o:r.pop(),r.length&&r[0]===e[0]?ai(r,L(t,2)):[]}),Lu=M(function(e){var t=Ce(e),r=Q(e,bi);return t=typeof t=="function"?t:o,t&&r.pop(),r.length&&r[0]===e[0]?ai(r,o,t):[]});function Su(e,t){return e==null?"":Oh.call(e,t)}function Ce(e){var t=e==null?0:e.length;return t?e[t-1]:o}function Yu(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var s=i;return r!==o&&(s=N(r),s=s<0?se(i+s,0):ce(s,i-1)),t===t?fh(e,t,s):Br(e,jo,s,!0)}function xu(e,t){return e&&e.length?os(e,N(t)):o}var Du=M(Xs);function Xs(e,t){return e&&e.length&&t&&t.length?fi(e,t):e}function Nu(e,t,r){return e&&e.length&&t&&t.length?fi(e,t,L(r,2)):e}function Cu(e,t,r){return e&&e.length&&t&&t.length?fi(e,t,o,r):e}var Bu=at(function(e,t){var r=e==null?0:e.length,i=ni(e,t);return hs(e,Q(t,function(s){return ht(s,r)?+s:s}).sort(vs)),i});function Mu(e,t){var r=[];if(!(e&&e.length))return r;var i=-1,s=[],h=e.length;for(t=L(t,3);++i<h;){var l=e[i];t(l,i,e)&&(r.push(l),s.push(i))}return hs(e,s),r}function Si(e){return e==null?e:Sh.call(e)}function Pu(e,t,r){var i=e==null?0:e.length;return i?(r&&typeof r!="number"&&ge(e,t,r)?(t=0,r=i):(t=t==null?0:N(t),r=r===o?i:N(r)),Ne(e,t,r)):[]}function Wu(e,t){return nn(e,t)}function Fu(e,t,r){return pi(e,t,L(r,2))}function Gu(e,t){var r=e==null?0:e.length;if(r){var i=nn(e,t);if(i<r&&He(e[i],t))return i}return-1}function Uu(e,t){return nn(e,t,!0)}function zu(e,t,r){return pi(e,t,L(r,2),!0)}function qu(e,t){var r=e==null?0:e.length;if(r){var i=nn(e,t,!0)-1;if(He(e[i],t))return i}return-1}function Hu(e){return e&&e.length?us(e):[]}function Ku(e,t){return e&&e.length?us(e,L(t,2)):[]}function $u(e){var t=e==null?0:e.length;return t?Ne(e,1,t):[]}function Xu(e,t,r){return e&&e.length?(t=r||t===o?1:N(t),Ne(e,0,t<0?0:t)):[]}function Zu(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===o?1:N(t),t=i-t,Ne(e,t<0?0:t,i)):[]}function Vu(e,t){return e&&e.length?on(e,L(t,3),!1,!0):[]}function Ju(e,t){return e&&e.length?on(e,L(t,3)):[]}var Qu=M(function(e){return At(le(e,1,re,!0))}),ef=M(function(e){var t=Ce(e);return re(t)&&(t=o),At(le(e,1,re,!0),L(t,2))}),tf=M(function(e){var t=Ce(e);return t=typeof t=="function"?t:o,At(le(e,1,re,!0),o,t)});function rf(e){return e&&e.length?At(e):[]}function nf(e,t){return e&&e.length?At(e,L(t,2)):[]}function of(e,t){return t=typeof t=="function"?t:o,e&&e.length?At(e,o,t):[]}function Yi(e){if(!(e&&e.length))return[];var t=0;return e=vt(e,function(r){if(re(r))return t=se(r.length,t),!0}),Xn(t,function(r){return Q(e,Hn(r))})}function Zs(e,t){if(!(e&&e.length))return[];var r=Yi(e);return t==null?r:Q(r,function(i){return Te(t,o,i)})}var sf=M(function(e,t){return re(e)?br(e,t):[]}),af=M(function(e){return wi(vt(e,re))}),hf=M(function(e){var t=Ce(e);return re(t)&&(t=o),wi(vt(e,re),L(t,2))}),lf=M(function(e){var t=Ce(e);return t=typeof t=="function"?t:o,wi(vt(e,re),o,t)}),uf=M(Yi);function ff(e,t){return ps(e||[],t||[],wr)}function cf(e,t){return ps(e||[],t||[],_r)}var df=M(function(e){var t=e.length,r=t>1?e[t-1]:o;return r=typeof r=="function"?(e.pop(),r):o,Zs(e,r)});function Vs(e){var t=a(e);return t.__chain__=!0,t}function pf(e,t){return t(e),e}function pn(e,t){return t(e)}var gf=at(function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,s=function(h){return ni(h,e)};return t>1||this.__actions__.length||!(i instanceof W)||!ht(r)?this.thru(s):(i=i.slice(r,+r+(t?1:0)),i.__actions__.push({func:pn,args:[s],thisArg:o}),new xe(i,this.__chain__).thru(function(h){return t&&!h.length&&h.push(o),h}))});function wf(){return Vs(this)}function bf(){return new xe(this.value(),this.__chain__)}function vf(){this.__values__===o&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function mf(){return this}function _f(e){for(var t,r=this;r instanceof Jr;){var i=zs(r);i.__index__=0,i.__values__=o,t?s.__wrapped__=i:t=i;var s=i;r=r.__wrapped__}return s.__wrapped__=e,t}function yf(){var e=this.__wrapped__;if(e instanceof W){var t=e;return this.__actions__.length&&(t=new W(this)),t=t.reverse(),t.__actions__.push({func:pn,args:[Si],thisArg:o}),new xe(t,this.__chain__)}return this.thru(Si)}function Tf(){return ds(this.__wrapped__,this.__actions__)}var Af=sn(function(e,t,r){K.call(e,r)?++e[r]:ot(e,r,1)});function kf(e,t,r){var i=D(e)?Eo:dl;return r&&ge(e,t,r)&&(t=o),i(e,L(t,3))}function Rf(e,t){var r=D(e)?vt:Zo;return r(e,L(t,3))}var Ef=ks(qs),Of=ks(Hs);function jf(e,t){return le(gn(e,t),1)}function If(e,t){return le(gn(e,t),It)}function Lf(e,t,r){return r=r===o?1:N(r),le(gn(e,t),r)}function Js(e,t){var r=D(e)?Se:Tt;return r(e,L(t,3))}function Qs(e,t){var r=D(e)?$0:Xo;return r(e,L(t,3))}var Sf=sn(function(e,t,r){K.call(e,r)?e[r].push(t):ot(e,r,[t])});function Yf(e,t,r,i){e=ve(e)?e:rr(e),r=r&&!i?N(r):0;var s=e.length;return r<0&&(r=se(s+r,0)),_n(e)?r<=s&&e.indexOf(t,r)>-1:!!s&&zt(e,t,r)>-1}var xf=M(function(e,t,r){var i=-1,s=typeof t=="function",h=ve(e)?g(e.length):[];return Tt(e,function(l){h[++i]=s?Te(t,l,r):vr(l,t,r)}),h}),Df=sn(function(e,t,r){ot(e,r,t)});function gn(e,t){var r=D(e)?Q:rs;return r(e,L(t,3))}function Nf(e,t,r,i){return e==null?[]:(D(t)||(t=t==null?[]:[t]),r=i?o:r,D(r)||(r=r==null?[]:[r]),ss(e,t,r))}var Cf=sn(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function Bf(e,t,r){var i=D(e)?zn:Lo,s=arguments.length<3;return i(e,L(t,4),r,s,Tt)}function Mf(e,t,r){var i=D(e)?X0:Lo,s=arguments.length<3;return i(e,L(t,4),r,s,Xo)}function Pf(e,t){var r=D(e)?vt:Zo;return r(e,vn(L(t,3)))}function Wf(e){var t=D(e)?qo:Sl;return t(e)}function Ff(e,t,r){(r?ge(e,t,r):t===o)?t=1:t=N(t);var i=D(e)?hl:Yl;return i(e,t)}function Gf(e){var t=D(e)?ll:Dl;return t(e)}function Uf(e){if(e==null)return 0;if(ve(e))return _n(e)?Ht(e):e.length;var t=de(e);return t==Ge||t==Ue?e.size:li(e).length}function zf(e,t,r){var i=D(e)?qn:Nl;return r&&ge(e,t,r)&&(t=o),i(e,L(t,3))}var qf=M(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ge(e,t[0],t[1])?t=[]:r>2&&ge(t[0],t[1],t[2])&&(t=[t[0]]),ss(e,le(t,1),[])}),wn=kh||function(){return he.Date.now()};function Hf(e,t){if(typeof t!="function")throw new Ye(E);return e=N(e),function(){if(--e<1)return t.apply(this,arguments)}}function ea(e,t,r){return t=r?o:t,t=e&&t==null?e.length:t,st(e,Fe,o,o,o,o,t)}function ta(e,t){var r;if(typeof t!="function")throw new Ye(E);return e=N(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var xi=M(function(e,t,r){var i=fe;if(r.length){var s=_t(r,er(xi));i|=Ie}return st(e,i,t,r,s)}),ra=M(function(e,t,r){var i=fe|We;if(r.length){var s=_t(r,er(ra));i|=Ie}return st(t,i,e,r,s)});function na(e,t,r){t=r?o:t;var i=st(e,ye,o,o,o,o,o,t);return i.placeholder=na.placeholder,i}function ia(e,t,r){t=r?o:t;var i=st(e,tt,o,o,o,o,o,t);return i.placeholder=ia.placeholder,i}function oa(e,t,r){var i,s,h,l,u,d,b=0,v=!1,_=!1,k=!0;if(typeof e!="function")throw new Ye(E);t=Be(t)||0,ee(r)&&(v=!!r.leading,_="maxWait"in r,h=_?se(Be(r.maxWait)||0,t):h,k="trailing"in r?!!r.trailing:k);function I(ne){var Ke=i,ft=s;return i=s=o,b=ne,l=e.apply(ft,Ke),l}function S(ne){return b=ne,u=Ar(P,t),v?I(ne):l}function B(ne){var Ke=ne-d,ft=ne-b,ka=t-Ke;return _?ce(ka,h-ft):ka}function Y(ne){var Ke=ne-d,ft=ne-b;return d===o||Ke>=t||Ke<0||_&&ft>=h}function P(){var ne=wn();if(Y(ne))return G(ne);u=Ar(P,B(ne))}function G(ne){return u=o,k&&i?I(ne):(i=s=o,l)}function Ee(){u!==o&&gs(u),b=0,i=d=s=u=o}function we(){return u===o?l:G(wn())}function Oe(){var ne=wn(),Ke=Y(ne);if(i=arguments,s=this,d=ne,Ke){if(u===o)return S(d);if(_)return gs(u),u=Ar(P,t),I(d)}return u===o&&(u=Ar(P,t)),l}return Oe.cancel=Ee,Oe.flush=we,Oe}var Kf=M(function(e,t){return $o(e,1,t)}),$f=M(function(e,t,r){return $o(e,Be(t)||0,r)});function Xf(e){return st(e,gt)}function bn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Ye(E);var r=function(){var i=arguments,s=t?t.apply(this,i):i[0],h=r.cache;if(h.has(s))return h.get(s);var l=e.apply(this,i);return r.cache=h.set(s,l)||h,l};return r.cache=new(bn.Cache||it),r}bn.Cache=it;function vn(e){if(typeof e!="function")throw new Ye(E);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Zf(e){return ta(2,e)}var Vf=Cl(function(e,t){t=t.length==1&&D(t[0])?Q(t[0],Ae(L())):Q(le(t,1),Ae(L()));var r=t.length;return M(function(i){for(var s=-1,h=ce(i.length,r);++s<h;)i[s]=t[s].call(this,i[s]);return Te(e,this,i)})}),Di=M(function(e,t){var r=_t(t,er(Di));return st(e,Ie,o,t,r)}),sa=M(function(e,t){var r=_t(t,er(sa));return st(e,pt,o,t,r)}),Jf=at(function(e,t){return st(e,jt,o,o,o,t)});function Qf(e,t){if(typeof e!="function")throw new Ye(E);return t=t===o?t:N(t),M(e,t)}function ec(e,t){if(typeof e!="function")throw new Ye(E);return t=t==null?0:se(N(t),0),M(function(r){var i=r[t],s=Rt(r,0,t);return i&&mt(s,i),Te(e,this,s)})}function tc(e,t,r){var i=!0,s=!0;if(typeof e!="function")throw new Ye(E);return ee(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),oa(e,t,{leading:i,maxWait:t,trailing:s})}function rc(e){return ea(e,1)}function nc(e,t){return Di(vi(t),e)}function ic(){if(!arguments.length)return[];var e=arguments[0];return D(e)?e:[e]}function oc(e){return De(e,Pe)}function sc(e,t){return t=typeof t=="function"?t:o,De(e,Pe,t)}function ac(e){return De(e,ue|Pe)}function hc(e,t){return t=typeof t=="function"?t:o,De(e,ue|Pe,t)}function lc(e,t){return t==null||Ko(e,t,ae(t))}function He(e,t){return e===t||e!==e&&t!==t}var uc=un(si),fc=un(function(e,t){return e>=t}),Mt=Qo(function(){return arguments}())?Qo:function(e){return te(e)&&K.call(e,"callee")&&!Po.call(e,"callee")},D=g.isArray,cc=_o?Ae(_o):ml;function ve(e){return e!=null&&mn(e.length)&&!lt(e)}function re(e){return te(e)&&ve(e)}function dc(e){return e===!0||e===!1||te(e)&&pe(e)==nr}var Et=Eh||qi,pc=yo?Ae(yo):_l;function gc(e){return te(e)&&e.nodeType===1&&!kr(e)}function wc(e){if(e==null)return!0;if(ve(e)&&(D(e)||typeof e=="string"||typeof e.splice=="function"||Et(e)||tr(e)||Mt(e)))return!e.length;var t=de(e);if(t==Ge||t==Ue)return!e.size;if(Tr(e))return!li(e).length;for(var r in e)if(K.call(e,r))return!1;return!0}function bc(e,t){return mr(e,t)}function vc(e,t,r){r=typeof r=="function"?r:o;var i=r?r(e,t):o;return i===o?mr(e,t,o,r):!!i}function Ni(e){if(!te(e))return!1;var t=pe(e);return t==Lr||t==Wa||typeof e.message=="string"&&typeof e.name=="string"&&!kr(e)}function mc(e){return typeof e=="number"&&Fo(e)}function lt(e){if(!ee(e))return!1;var t=pe(e);return t==Sr||t==Ki||t==Pa||t==Ga}function aa(e){return typeof e=="number"&&e==N(e)}function mn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bt}function ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function te(e){return e!=null&&typeof e=="object"}var ha=To?Ae(To):Tl;function _c(e,t){return e===t||hi(e,t,Ri(t))}function yc(e,t,r){return r=typeof r=="function"?r:o,hi(e,t,Ri(t),r)}function Tc(e){return la(e)&&e!=+e}function Ac(e){if(ou(e))throw new x(T);return es(e)}function kc(e){return e===null}function Rc(e){return e==null}function la(e){return typeof e=="number"||te(e)&&pe(e)==or}function kr(e){if(!te(e)||pe(e)!=rt)return!1;var t=qr(e);if(t===null)return!0;var r=K.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Fr.call(r)==_h}var Ci=Ao?Ae(Ao):Al;function Ec(e){return aa(e)&&e>=-bt&&e<=bt}var ua=ko?Ae(ko):kl;function _n(e){return typeof e=="string"||!D(e)&&te(e)&&pe(e)==ar}function Re(e){return typeof e=="symbol"||te(e)&&pe(e)==Yr}var tr=Ro?Ae(Ro):Rl;function Oc(e){return e===o}function jc(e){return te(e)&&de(e)==hr}function Ic(e){return te(e)&&pe(e)==za}var Lc=un(ui),Sc=un(function(e,t){return e<=t});function fa(e){if(!e)return[];if(ve(e))return _n(e)?ze(e):be(e);if(fr&&e[fr])return hh(e[fr]());var t=de(e),r=t==Ge?Vn:t==Ue?Mr:rr;return r(e)}function ut(e){if(!e)return e===0?e:0;if(e=Be(e),e===It||e===-It){var t=e<0?-1:1;return t*Na}return e===e?e:0}function N(e){var t=ut(e),r=t%1;return t===t?r?t-r:t:0}function ca(e){return e?Dt(N(e),0,Ve):0}function Be(e){if(typeof e=="number")return e;if(Re(e))return jr;if(ee(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ee(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=So(e);var r=f0.test(e);return r||d0.test(e)?q0(e.slice(2),r?2:8):u0.test(e)?jr:+e}function da(e){return Qe(e,me(e))}function Yc(e){return e?Dt(N(e),-bt,bt):e===0?e:0}function H(e){return e==null?"":ke(e)}var xc=Jt(function(e,t){if(Tr(t)||ve(t)){Qe(t,ae(t),e);return}for(var r in t)K.call(t,r)&&wr(e,r,t[r])}),pa=Jt(function(e,t){Qe(t,me(t),e)}),yn=Jt(function(e,t,r,i){Qe(t,me(t),e,i)}),Dc=Jt(function(e,t,r,i){Qe(t,ae(t),e,i)}),Nc=at(ni);function Cc(e,t){var r=Vt(e);return t==null?r:Ho(r,t)}var Bc=M(function(e,t){e=$(e);var r=-1,i=t.length,s=i>2?t[2]:o;for(s&&ge(t[0],t[1],s)&&(i=1);++r<i;)for(var h=t[r],l=me(h),u=-1,d=l.length;++u<d;){var b=l[u],v=e[b];(v===o||He(v,$t[b])&&!K.call(e,b))&&(e[b]=h[b])}return e}),Mc=M(function(e){return e.push(o,Ss),Te(ga,o,e)});function Pc(e,t){return Oo(e,L(t,3),Je)}function Wc(e,t){return Oo(e,L(t,3),oi)}function Fc(e,t){return e==null?e:ii(e,L(t,3),me)}function Gc(e,t){return e==null?e:Vo(e,L(t,3),me)}function Uc(e,t){return e&&Je(e,L(t,3))}function zc(e,t){return e&&oi(e,L(t,3))}function qc(e){return e==null?[]:tn(e,ae(e))}function Hc(e){return e==null?[]:tn(e,me(e))}function Bi(e,t,r){var i=e==null?o:Nt(e,t);return i===o?r:i}function Kc(e,t){return e!=null&&Ds(e,t,gl)}function Mi(e,t){return e!=null&&Ds(e,t,wl)}var $c=Es(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=Gr.call(t)),e[t]=r},Wi(_e)),Xc=Es(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=Gr.call(t)),K.call(e,t)?e[t].push(r):e[t]=[r]},L),Zc=M(vr);function ae(e){return ve(e)?zo(e):li(e)}function me(e){return ve(e)?zo(e,!0):El(e)}function Vc(e,t){var r={};return t=L(t,3),Je(e,function(i,s,h){ot(r,t(i,s,h),i)}),r}function Jc(e,t){var r={};return t=L(t,3),Je(e,function(i,s,h){ot(r,s,t(i,s,h))}),r}var Qc=Jt(function(e,t,r){rn(e,t,r)}),ga=Jt(function(e,t,r,i){rn(e,t,r,i)}),ed=at(function(e,t){var r={};if(e==null)return r;var i=!1;t=Q(t,function(h){return h=kt(h,e),i||(i=h.length>1),h}),Qe(e,Ai(e),r),i&&(r=De(r,ue|$e|Pe,Kl));for(var s=t.length;s--;)gi(r,t[s]);return r});function td(e,t){return wa(e,vn(L(t)))}var rd=at(function(e,t){return e==null?{}:jl(e,t)});function wa(e,t){if(e==null)return{};var r=Q(Ai(e),function(i){return[i]});return t=L(t),as(e,r,function(i,s){return t(i,s[0])})}function nd(e,t,r){t=kt(t,e);var i=-1,s=t.length;for(s||(s=1,e=o);++i<s;){var h=e==null?o:e[et(t[i])];h===o&&(i=s,h=r),e=lt(h)?h.call(e):h}return e}function id(e,t,r){return e==null?e:_r(e,t,r)}function od(e,t,r,i){return i=typeof i=="function"?i:o,e==null?e:_r(e,t,r,i)}var ba=Is(ae),va=Is(me);function sd(e,t,r){var i=D(e),s=i||Et(e)||tr(e);if(t=L(t,4),r==null){var h=e&&e.constructor;s?r=i?new h:[]:ee(e)?r=lt(h)?Vt(qr(e)):{}:r={}}return(s?Se:Je)(e,function(l,u,d){return t(r,l,u,d)}),r}function ad(e,t){return e==null?!0:gi(e,t)}function hd(e,t,r){return e==null?e:cs(e,t,vi(r))}function ld(e,t,r,i){return i=typeof i=="function"?i:o,e==null?e:cs(e,t,vi(r),i)}function rr(e){return e==null?[]:Zn(e,ae(e))}function ud(e){return e==null?[]:Zn(e,me(e))}function fd(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=Be(r),r=r===r?r:0),t!==o&&(t=Be(t),t=t===t?t:0),Dt(Be(e),t,r)}function cd(e,t,r){return t=ut(t),r===o?(r=t,t=0):r=ut(r),e=Be(e),bl(e,t,r)}function dd(e,t,r){if(r&&typeof r!="boolean"&&ge(e,t,r)&&(t=r=o),r===o&&(typeof t=="boolean"?(r=t,t=o):typeof e=="boolean"&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ut(e),t===o?(t=e,e=0):t=ut(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var s=Go();return ce(e+s*(t-e+z0("1e-"+((s+"").length-1))),t)}return ci(e,t)}var pd=Qt(function(e,t,r){return t=t.toLowerCase(),e+(r?ma(t):t)});function ma(e){return Pi(H(e).toLowerCase())}function _a(e){return e=H(e),e&&e.replace(g0,nh).replace(D0,"")}function gd(e,t,r){e=H(e),t=ke(t);var i=e.length;r=r===o?i:Dt(N(r),0,i);var s=r;return r-=t.length,r>=0&&e.slice(r,s)==t}function wd(e){return e=H(e),e&&Xa.test(e)?e.replace(Zi,ih):e}function bd(e){return e=H(e),e&&t0.test(e)?e.replace(Dn,"\\$&"):e}var vd=Qt(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),md=Qt(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),_d=As("toLowerCase");function yd(e,t,r){e=H(e),t=N(t);var i=t?Ht(e):0;if(!t||i>=t)return e;var s=(t-i)/2;return ln(Xr(s),r)+e+ln($r(s),r)}function Td(e,t,r){e=H(e),t=N(t);var i=t?Ht(e):0;return t&&i<t?e+ln(t-i,r):e}function Ad(e,t,r){e=H(e),t=N(t);var i=t?Ht(e):0;return t&&i<t?ln(t-i,r)+e:e}function kd(e,t,r){return r||t==null?t=0:t&&(t=+t),Lh(H(e).replace(Nn,""),t||0)}function Rd(e,t,r){return(r?ge(e,t,r):t===o)?t=1:t=N(t),di(H(e),t)}function Ed(){var e=arguments,t=H(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Od=Qt(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function jd(e,t,r){return r&&typeof r!="number"&&ge(e,t,r)&&(t=r=o),r=r===o?Ve:r>>>0,r?(e=H(e),e&&(typeof t=="string"||t!=null&&!Ci(t))&&(t=ke(t),!t&&qt(e))?Rt(ze(e),0,r):e.split(t,r)):[]}var Id=Qt(function(e,t,r){return e+(r?" ":"")+Pi(t)});function Ld(e,t,r){return e=H(e),r=r==null?0:Dt(N(r),0,e.length),t=ke(t),e.slice(r,r+t.length)==t}function Sd(e,t,r){var i=a.templateSettings;r&&ge(e,t,r)&&(t=o),e=H(e),t=yn({},t,i,Ls);var s=yn({},t.imports,i.imports,Ls),h=ae(s),l=Zn(s,h),u,d,b=0,v=t.interpolate||xr,_="__p += '",k=Jn((t.escape||xr).source+"|"+v.source+"|"+(v===Vi?l0:xr).source+"|"+(t.evaluate||xr).source+"|$","g"),I="//# sourceURL="+(K.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++P0+"]")+`
`;e.replace(k,function(Y,P,G,Ee,we,Oe){return G||(G=Ee),_+=e.slice(b,Oe).replace(w0,oh),P&&(u=!0,_+=`' +
__e(`+P+`) +
'`),we&&(d=!0,_+=`';
`+we+`;
__p += '`),G&&(_+=`' +
((__t = (`+G+`)) == null ? '' : __t) +
'`),b=Oe+Y.length,Y}),_+=`';
`;var S=K.call(t,"variable")&&t.variable;if(!S)_=`with (obj) {
`+_+`
}
`;else if(a0.test(S))throw new x(F);_=(d?_.replace(qa,""):_).replace(Ha,"$1").replace(Ka,"$1;"),_="function("+(S||"obj")+`) {
`+(S?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(u?", __e = _.escape":"")+(d?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_+`return __p
}`;var B=Ta(function(){return q(h,I+"return "+_).apply(o,l)});if(B.source=_,Ni(B))throw B;return B}function Yd(e){return H(e).toLowerCase()}function xd(e){return H(e).toUpperCase()}function Dd(e,t,r){if(e=H(e),e&&(r||t===o))return So(e);if(!e||!(t=ke(t)))return e;var i=ze(e),s=ze(t),h=Yo(i,s),l=xo(i,s)+1;return Rt(i,h,l).join("")}function Nd(e,t,r){if(e=H(e),e&&(r||t===o))return e.slice(0,No(e)+1);if(!e||!(t=ke(t)))return e;var i=ze(e),s=xo(i,ze(t))+1;return Rt(i,0,s).join("")}function Cd(e,t,r){if(e=H(e),e&&(r||t===o))return e.replace(Nn,"");if(!e||!(t=ke(t)))return e;var i=ze(e),s=Yo(i,ze(t));return Rt(i,s).join("")}function Bd(e,t){var r=R,i=j;if(ee(t)){var s="separator"in t?t.separator:s;r="length"in t?N(t.length):r,i="omission"in t?ke(t.omission):i}e=H(e);var h=e.length;if(qt(e)){var l=ze(e);h=l.length}if(r>=h)return e;var u=r-Ht(i);if(u<1)return i;var d=l?Rt(l,0,u).join(""):e.slice(0,u);if(s===o)return d+i;if(l&&(u+=d.length-u),Ci(s)){if(e.slice(u).search(s)){var b,v=d;for(s.global||(s=Jn(s.source,H(Ji.exec(s))+"g")),s.lastIndex=0;b=s.exec(v);)var _=b.index;d=d.slice(0,_===o?u:_)}}else if(e.indexOf(ke(s),u)!=u){var k=d.lastIndexOf(s);k>-1&&(d=d.slice(0,k))}return d+i}function Md(e){return e=H(e),e&&$a.test(e)?e.replace(Xi,ch):e}var Pd=Qt(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Pi=As("toUpperCase");function ya(e,t,r){return e=H(e),t=r?o:t,t===o?ah(e)?gh(e):J0(e):e.match(t)||[]}var Ta=M(function(e,t){try{return Te(e,o,t)}catch(r){return Ni(r)?r:new x(r)}}),Wd=at(function(e,t){return Se(t,function(r){r=et(r),ot(e,r,xi(e[r],e))}),e});function Fd(e){var t=e==null?0:e.length,r=L();return e=t?Q(e,function(i){if(typeof i[1]!="function")throw new Ye(E);return[r(i[0]),i[1]]}):[],M(function(i){for(var s=-1;++s<t;){var h=e[s];if(Te(h[0],this,i))return Te(h[1],this,i)}})}function Gd(e){return cl(De(e,ue))}function Wi(e){return function(){return e}}function Ud(e,t){return e==null||e!==e?t:e}var zd=Rs(),qd=Rs(!0);function _e(e){return e}function Fi(e){return ts(typeof e=="function"?e:De(e,ue))}function Hd(e){return ns(De(e,ue))}function Kd(e,t){return is(e,De(t,ue))}var $d=M(function(e,t){return function(r){return vr(r,e,t)}}),Xd=M(function(e,t){return function(r){return vr(e,r,t)}});function Gi(e,t,r){var i=ae(t),s=tn(t,i);r==null&&!(ee(t)&&(s.length||!i.length))&&(r=t,t=e,e=this,s=tn(t,ae(t)));var h=!(ee(r)&&"chain"in r)||!!r.chain,l=lt(e);return Se(s,function(u){var d=t[u];e[u]=d,l&&(e.prototype[u]=function(){var b=this.__chain__;if(h||b){var v=e(this.__wrapped__),_=v.__actions__=be(this.__actions__);return _.push({func:d,args:arguments,thisArg:e}),v.__chain__=b,v}return d.apply(e,mt([this.value()],arguments))})}),e}function Zd(){return he._===this&&(he._=yh),this}function Ui(){}function Vd(e){return e=N(e),M(function(t){return os(t,e)})}var Jd=_i(Q),Qd=_i(Eo),ep=_i(qn);function Aa(e){return Oi(e)?Hn(et(e)):Il(e)}function tp(e){return function(t){return e==null?o:Nt(e,t)}}var rp=Os(),np=Os(!0);function zi(){return[]}function qi(){return!1}function ip(){return{}}function op(){return""}function sp(){return!0}function ap(e,t){if(e=N(e),e<1||e>bt)return[];var r=Ve,i=ce(e,Ve);t=L(t),e-=Ve;for(var s=Xn(i,t);++r<e;)t(r);return s}function hp(e){return D(e)?Q(e,et):Re(e)?[e]:be(Us(H(e)))}function lp(e){var t=++mh;return H(e)+t}var up=hn(function(e,t){return e+t},0),fp=yi("ceil"),cp=hn(function(e,t){return e/t},1),dp=yi("floor");function pp(e){return e&&e.length?en(e,_e,si):o}function gp(e,t){return e&&e.length?en(e,L(t,2),si):o}function wp(e){return Io(e,_e)}function bp(e,t){return Io(e,L(t,2))}function vp(e){return e&&e.length?en(e,_e,ui):o}function mp(e,t){return e&&e.length?en(e,L(t,2),ui):o}var _p=hn(function(e,t){return e*t},1),yp=yi("round"),Tp=hn(function(e,t){return e-t},0);function Ap(e){return e&&e.length?$n(e,_e):0}function kp(e,t){return e&&e.length?$n(e,L(t,2)):0}return a.after=Hf,a.ary=ea,a.assign=xc,a.assignIn=pa,a.assignInWith=yn,a.assignWith=Dc,a.at=Nc,a.before=ta,a.bind=xi,a.bindAll=Wd,a.bindKey=ra,a.castArray=ic,a.chain=Vs,a.chunk=cu,a.compact=du,a.concat=pu,a.cond=Fd,a.conforms=Gd,a.constant=Wi,a.countBy=Af,a.create=Cc,a.curry=na,a.curryRight=ia,a.debounce=oa,a.defaults=Bc,a.defaultsDeep=Mc,a.defer=Kf,a.delay=$f,a.difference=gu,a.differenceBy=wu,a.differenceWith=bu,a.drop=vu,a.dropRight=mu,a.dropRightWhile=_u,a.dropWhile=yu,a.fill=Tu,a.filter=Rf,a.flatMap=jf,a.flatMapDeep=If,a.flatMapDepth=Lf,a.flatten=Ks,a.flattenDeep=Au,a.flattenDepth=ku,a.flip=Xf,a.flow=zd,a.flowRight=qd,a.fromPairs=Ru,a.functions=qc,a.functionsIn=Hc,a.groupBy=Sf,a.initial=Ou,a.intersection=ju,a.intersectionBy=Iu,a.intersectionWith=Lu,a.invert=$c,a.invertBy=Xc,a.invokeMap=xf,a.iteratee=Fi,a.keyBy=Df,a.keys=ae,a.keysIn=me,a.map=gn,a.mapKeys=Vc,a.mapValues=Jc,a.matches=Hd,a.matchesProperty=Kd,a.memoize=bn,a.merge=Qc,a.mergeWith=ga,a.method=$d,a.methodOf=Xd,a.mixin=Gi,a.negate=vn,a.nthArg=Vd,a.omit=ed,a.omitBy=td,a.once=Zf,a.orderBy=Nf,a.over=Jd,a.overArgs=Vf,a.overEvery=Qd,a.overSome=ep,a.partial=Di,a.partialRight=sa,a.partition=Cf,a.pick=rd,a.pickBy=wa,a.property=Aa,a.propertyOf=tp,a.pull=Du,a.pullAll=Xs,a.pullAllBy=Nu,a.pullAllWith=Cu,a.pullAt=Bu,a.range=rp,a.rangeRight=np,a.rearg=Jf,a.reject=Pf,a.remove=Mu,a.rest=Qf,a.reverse=Si,a.sampleSize=Ff,a.set=id,a.setWith=od,a.shuffle=Gf,a.slice=Pu,a.sortBy=qf,a.sortedUniq=Hu,a.sortedUniqBy=Ku,a.split=jd,a.spread=ec,a.tail=$u,a.take=Xu,a.takeRight=Zu,a.takeRightWhile=Vu,a.takeWhile=Ju,a.tap=pf,a.throttle=tc,a.thru=pn,a.toArray=fa,a.toPairs=ba,a.toPairsIn=va,a.toPath=hp,a.toPlainObject=da,a.transform=sd,a.unary=rc,a.union=Qu,a.unionBy=ef,a.unionWith=tf,a.uniq=rf,a.uniqBy=nf,a.uniqWith=of,a.unset=ad,a.unzip=Yi,a.unzipWith=Zs,a.update=hd,a.updateWith=ld,a.values=rr,a.valuesIn=ud,a.without=sf,a.words=ya,a.wrap=nc,a.xor=af,a.xorBy=hf,a.xorWith=lf,a.zip=uf,a.zipObject=ff,a.zipObjectDeep=cf,a.zipWith=df,a.entries=ba,a.entriesIn=va,a.extend=pa,a.extendWith=yn,Gi(a,a),a.add=up,a.attempt=Ta,a.camelCase=pd,a.capitalize=ma,a.ceil=fp,a.clamp=fd,a.clone=oc,a.cloneDeep=ac,a.cloneDeepWith=hc,a.cloneWith=sc,a.conformsTo=lc,a.deburr=_a,a.defaultTo=Ud,a.divide=cp,a.endsWith=gd,a.eq=He,a.escape=wd,a.escapeRegExp=bd,a.every=kf,a.find=Ef,a.findIndex=qs,a.findKey=Pc,a.findLast=Of,a.findLastIndex=Hs,a.findLastKey=Wc,a.floor=dp,a.forEach=Js,a.forEachRight=Qs,a.forIn=Fc,a.forInRight=Gc,a.forOwn=Uc,a.forOwnRight=zc,a.get=Bi,a.gt=uc,a.gte=fc,a.has=Kc,a.hasIn=Mi,a.head=$s,a.identity=_e,a.includes=Yf,a.indexOf=Eu,a.inRange=cd,a.invoke=Zc,a.isArguments=Mt,a.isArray=D,a.isArrayBuffer=cc,a.isArrayLike=ve,a.isArrayLikeObject=re,a.isBoolean=dc,a.isBuffer=Et,a.isDate=pc,a.isElement=gc,a.isEmpty=wc,a.isEqual=bc,a.isEqualWith=vc,a.isError=Ni,a.isFinite=mc,a.isFunction=lt,a.isInteger=aa,a.isLength=mn,a.isMap=ha,a.isMatch=_c,a.isMatchWith=yc,a.isNaN=Tc,a.isNative=Ac,a.isNil=Rc,a.isNull=kc,a.isNumber=la,a.isObject=ee,a.isObjectLike=te,a.isPlainObject=kr,a.isRegExp=Ci,a.isSafeInteger=Ec,a.isSet=ua,a.isString=_n,a.isSymbol=Re,a.isTypedArray=tr,a.isUndefined=Oc,a.isWeakMap=jc,a.isWeakSet=Ic,a.join=Su,a.kebabCase=vd,a.last=Ce,a.lastIndexOf=Yu,a.lowerCase=md,a.lowerFirst=_d,a.lt=Lc,a.lte=Sc,a.max=pp,a.maxBy=gp,a.mean=wp,a.meanBy=bp,a.min=vp,a.minBy=mp,a.stubArray=zi,a.stubFalse=qi,a.stubObject=ip,a.stubString=op,a.stubTrue=sp,a.multiply=_p,a.nth=xu,a.noConflict=Zd,a.noop=Ui,a.now=wn,a.pad=yd,a.padEnd=Td,a.padStart=Ad,a.parseInt=kd,a.random=dd,a.reduce=Bf,a.reduceRight=Mf,a.repeat=Rd,a.replace=Ed,a.result=nd,a.round=yp,a.runInContext=c,a.sample=Wf,a.size=Uf,a.snakeCase=Od,a.some=zf,a.sortedIndex=Wu,a.sortedIndexBy=Fu,a.sortedIndexOf=Gu,a.sortedLastIndex=Uu,a.sortedLastIndexBy=zu,a.sortedLastIndexOf=qu,a.startCase=Id,a.startsWith=Ld,a.subtract=Tp,a.sum=Ap,a.sumBy=kp,a.template=Sd,a.times=ap,a.toFinite=ut,a.toInteger=N,a.toLength=ca,a.toLower=Yd,a.toNumber=Be,a.toSafeInteger=Yc,a.toString=H,a.toUpper=xd,a.trim=Dd,a.trimEnd=Nd,a.trimStart=Cd,a.truncate=Bd,a.unescape=Md,a.uniqueId=lp,a.upperCase=Pd,a.upperFirst=Pi,a.each=Js,a.eachRight=Qs,a.first=$s,Gi(a,function(){var e={};return Je(a,function(t,r){K.call(a.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),a.VERSION=m,Se(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),Se(["drop","take"],function(e,t){W.prototype[e]=function(r){r=r===o?1:se(N(r),0);var i=this.__filtered__&&!t?new W(this):this.clone();return i.__filtered__?i.__takeCount__=ce(r,i.__takeCount__):i.__views__.push({size:ce(r,Ve),type:e+(i.__dir__<0?"Right":"")}),i},W.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Se(["filter","map","takeWhile"],function(e,t){var r=t+1,i=r==wt||r==Da;W.prototype[e]=function(s){var h=this.clone();return h.__iteratees__.push({iteratee:L(s,3),type:r}),h.__filtered__=h.__filtered__||i,h}}),Se(["head","last"],function(e,t){var r="take"+(t?"Right":"");W.prototype[e]=function(){return this[r](1).value()[0]}}),Se(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");W.prototype[e]=function(){return this.__filtered__?new W(this):this[r](1)}}),W.prototype.compact=function(){return this.filter(_e)},W.prototype.find=function(e){return this.filter(e).head()},W.prototype.findLast=function(e){return this.reverse().find(e)},W.prototype.invokeMap=M(function(e,t){return typeof e=="function"?new W(this):this.map(function(r){return vr(r,e,t)})}),W.prototype.reject=function(e){return this.filter(vn(L(e)))},W.prototype.slice=function(e,t){e=N(e);var r=this;return r.__filtered__&&(e>0||t<0)?new W(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(t=N(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},W.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},W.prototype.toArray=function(){return this.take(Ve)},Je(W.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=a[i?"take"+(t=="last"?"Right":""):t],h=i||/^find/.test(t);s&&(a.prototype[t]=function(){var l=this.__wrapped__,u=i?[1]:arguments,d=l instanceof W,b=u[0],v=d||D(l),_=function(P){var G=s.apply(a,mt([P],u));return i&&k?G[0]:G};v&&r&&typeof b=="function"&&b.length!=1&&(d=v=!1);var k=this.__chain__,I=!!this.__actions__.length,S=h&&!k,B=d&&!I;if(!h&&v){l=B?l:new W(this);var Y=e.apply(l,u);return Y.__actions__.push({func:pn,args:[_],thisArg:o}),new xe(Y,k)}return S&&B?e.apply(this,u):(Y=this.thru(_),S?i?Y.value()[0]:Y.value():Y)})}),Se(["pop","push","shift","sort","splice","unshift"],function(e){var t=Pr[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var s=arguments;if(i&&!this.__chain__){var h=this.value();return t.apply(D(h)?h:[],s)}return this[r](function(l){return t.apply(D(l)?l:[],s)})}}),Je(W.prototype,function(e,t){var r=a[t];if(r){var i=r.name+"";K.call(Zt,i)||(Zt[i]=[]),Zt[i].push({name:t,func:r})}}),Zt[an(o,We).name]=[{name:"wrapper",func:o}],W.prototype.clone=Bh,W.prototype.reverse=Mh,W.prototype.value=Ph,a.prototype.at=gf,a.prototype.chain=wf,a.prototype.commit=bf,a.prototype.next=vf,a.prototype.plant=_f,a.prototype.reverse=yf,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=Tf,a.prototype.first=a.prototype.head,fr&&(a.prototype[fr]=mf),a},Kt=wh();Lt?((Lt.exports=Kt)._=Kt,Fn._=Kt):he._=Kt}).call(Rr)})(Tn,Tn.exports);var Rp=Tn.exports,An={},ct=function(n){n==null&&(n=new Date().getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,n.constructor==Array?this.init_by_array(n,n.length):this.init_seed(n)};ct.prototype.init_seed=function(n){for(this.mt[0]=n>>>0,this.mti=1;this.mti<this.N;this.mti++){var n=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(((n&4294901760)>>>16)*1812433253<<16)+(n&65535)*1812433253+this.mti,this.mt[this.mti]>>>=0}};ct.prototype.init_by_array=function(n,p){var o,m,f;for(this.init_seed(19650218),o=1,m=0,f=this.N>p?this.N:p;f;f--){var T=this.mt[o-1]^this.mt[o-1]>>>30;this.mt[o]=(this.mt[o]^(((T&4294901760)>>>16)*1664525<<16)+(T&65535)*1664525)+n[m]+m,this.mt[o]>>>=0,o++,m++,o>=this.N&&(this.mt[0]=this.mt[this.N-1],o=1),m>=p&&(m=0)}for(f=this.N-1;f;f--){var T=this.mt[o-1]^this.mt[o-1]>>>30;this.mt[o]=(this.mt[o]^(((T&4294901760)>>>16)*1566083941<<16)+(T&65535)*1566083941)-o,this.mt[o]>>>=0,o++,o>=this.N&&(this.mt[0]=this.mt[this.N-1],o=1)}this.mt[0]=2147483648};ct.prototype.random_int=function(){var n,p=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var o;for(this.mti==this.N+1&&this.init_seed(5489),o=0;o<this.N-this.M;o++)n=this.mt[o]&this.UPPER_MASK|this.mt[o+1]&this.LOWER_MASK,this.mt[o]=this.mt[o+this.M]^n>>>1^p[n&1];for(;o<this.N-1;o++)n=this.mt[o]&this.UPPER_MASK|this.mt[o+1]&this.LOWER_MASK,this.mt[o]=this.mt[o+(this.M-this.N)]^n>>>1^p[n&1];n=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^n>>>1^p[n&1],this.mti=0}return n=this.mt[this.mti++],n^=n>>>11,n^=n<<7&2636928640,n^=n<<15&4022730752,n^=n>>>18,n>>>0};ct.prototype.random_int31=function(){return this.random_int()>>>1};ct.prototype.random_incl=function(){return this.random_int()*(1/4294967295)};ct.prototype.random=function(){return this.random_int()*(1/4294967296)};ct.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)};ct.prototype.random_long=function(){var n=this.random_int()>>>5,p=this.random_int()>>>6;return(n*67108864+p)*(1/9007199254740992)};var Ep=ct;const Op={KEYS:1,LAMP:2,GRATE:3,CAGE:4,ROD:5,ROD2:6,STEPS:7,BIRD:8,DOOR:9,PILLOW:10,SNAKE:11,FISSURE:12,TABLET:13,CLAM:14,OYSTER:15,MAGAZINE:16,DWARF:17,KNIFE:18,FOOD:19,BOTTLE:20,WATER:21,OIL:22,MIRROR:23,PLANT:24,PLANT2:25,AXE:28,DRAGON:31,CHASM:32,TROLL:33,TROLL2:34,BEAR:35,MESSAGE:36,VEND:38,BATTERIES:39,NUGGET:50,COINS:54,CHEST:55,EGGS:56,TRIDENT:57,VASE:58,EMERALD:59,PYRAMID:60,PEARL:61,RUG:62,SPICES:63,CHAIN:64},jp={NULLX:21,BACK:8,LOOK:57,CAVE:67,ENTRANCE:64,DEPRESSION:63},Ip={TAKE:1,DROP:2,SAY:3,OPEN:4,NOTHING:5,LOCK:6,ON:7,OFF:8,WAVE:9,CALM:10,WALK:11,KILL:12,POUR:13,EAT:14,DRINK:15,RUB:16,THROW:17,QUIT:18,FIND:19,INVENTORY:20,FEED:21,FILL:22,BLAST:23,SCORE:24,FOO:25,BRIEF:26,READ:27,BREAK:28,WAKE:29,SUSPEND:30,HOURS:31,LOG:32},Lp={LIGHT:1,WATOIL:2,LIQUID:4,NOPIRAT:8,HINTC:16,HINTB:32,HINTS:64,HINTM:128,HINT:240},kn={obj:Op,verb:jp,averb:Ip,status:Lp},Sp=[["2002000","2044000","2029000","3003000","3012000","3019000","3043000","4005000","4013000","4014000","4046000","4030000","5006000","5045000","8063000"],["1002000","1012000","1007000","1043000","1045000","1030000","5006000","5046000"],["1003000","1011000","1032000","1044000","11062000","33065000","79005000","79014000"],["1004000","1012000","1045000","5006000","5043000","5044000","5029000","7005000","7046000","7030000","8063000"],["4009000","4043000","4030000","141006050","141007050","141045050","6006000","141044000","141046000"],["1002000","1045000","4009000","4043000","4044000","4030000","5006000","5046000"],["1012000","4004000","4045000","5006000","5043000","5044000","8005000","8015000","8016000","8046000","595060000","595014000","595030000"],["5006000","5043000","5046000","5044000","1012000","7004000","7013000","7045000","9003303","9019303","9030303","593003000"],["8011303","8029303","593011000","10017000","10018000","10019000","10044000","14031000","11051000"],["9011000","9020000","9021000","9043000","11019000","11022000","11044000","11051000","14031000"],["8063303","9064000","10017000","10018000","10023000","10024000","10043000","12025000","12026000","12019000","12029000","12044000","3062000","14031000"],["8063303","9064000","11030000","11043000","11051000","13019000","13029000","13044000","14031000"],["8063303","9064000","11051000","12025000","12026000","12043000","14023000","14031000","14044000"],["8063303","9064000","11051000","13023000","13043000","20030150","20031150","20034150","15030000","16033000","16044000"],["18036000","18046000","17007000","17038000","17044000","19010000","19030000","19045000","22029150","22031150","22034150","22035150","22023150","22043150","14029000","34055000"],["14001000"],["15038000","15043000","596039312","21007412","597041412","597042412","597044412","597069412","27041000"],["15038000","15011000","15045000"],["15010000","15029000","15043000","28045311","28036311","29046311","29037311","30044311","30007311","32045000","74049035","32049211","74066000"],["001000"],["001000"],["15001000"],["67043000","67042000","68044000","68061000","25030000","25031000","648052000"],["67029000","67011000"],["23029000","23011000","31056724","26056000"],["88001000"],["596039312","21007412","597041412","597042412","597043412","597069412","17041000","40045000","41044000"],["19038000","19011000","19046000","33045000","33055000","36030000","36052000"],["19038000","19011000","19045000"],["19038000","19011000","19043000","62044000","62029000"],["89001524","90001000"],["19001000"],["3065000","28046000","34043000","34053000","34054000","35044000","302071159","100071000"],["33030000","33055000","15029000"],["33043000","33055000","20039000"],["37043000","37017000","28029000","28052000","39044000","65070000"],["36044000","36017000","38030000","38031000","38056000"],["37056000","37029000","37011000","595060000","595014000","595030000","595004000","595005000"],["36043000","36023000","64030000","64052000","64058000","65070000"],["41001000"],["42046000","42029000","42023000","42056000","27043000","59045000","60044000","60017000"],["41029000","142045000","43043000","45046000","80044000"],["42044000","44046000","45043000"],["43043000","48030000","50046000","82045000"],["42044000","43045000","46043000","47046000","87029000","87030000"],["45044000","45011000"],["45043000","45011000"],["44029000","44011000"],["50043000","51044000"],["44043000","49044000","51030000","52046000"],["49044000","50029000","52043000","53046000"],["50044000","51043000","143046000","53029000","55045000","86030000"],["51044000","52045000","54046000"],["53044000","53011000"],["52044000","144045000","56030000","57043000"],["55029000","55011000"],["13030000","13056000","55044000","58046000","83045000","84043000"],["57043000","57011000"],["27001000"],["41043000","41029000","41017000","61044000","62045000","62030000","62052000"],["60043000","62045000","107046000"],["60044000","63045000","30043000","61046000"],["62046000","62011000"],["39029000","39056000","39059000","65044000","65070000","103045000","103074000","106043000"],["64043000","66044000","556046080","68061000","556029050","70029080","39029000","556045060","72045075","71045000","556030080","106030000"],["65047000","67044000","556046080","77025000","96043000","556050050","97072000"],["66043000","23044000","23042000","24030000","24031000"],["23046000","69029000","69056000","65045000"],["68030000","68061000","120046331","119046000","109045000","113075000"],["71045000","65030000","65023000","111046000"],["65048000","70046000","110045000"],["65070000","118049000","73045000","97048000","97072000"],["72046000","72017000","72011000"],["19043000","120044331","121044000","75030000"],["76046000","77045000"],["75045000"],["75043000","78044000","66045000","66017000"],["77046000"],["3001000"],["42045000","145044000","145046000","81043000"],["80044000","80011000"],["44046000","44011000"],["57046000","84043000","85044000"],["57045000","83044000","114050000"],["83043000","83011000"],["52029000","52011000"],["45029000","45030000"],["25030000","25056000","25043000","20039000","92044000","92027000"],["25001000"],["23001000"],["95045000","95073000","95023000","72030000","72056000"],["88046000","93043000","94045000"],["92046000","92027000","92011000"],["92046000","92027000","92023000","95045309","95003309","95073309","611045000"],["94046000","94011000","92027000","91044000"],["66044000","66011000"],["66048000","72044000","72017000","98029000","98045000","98073000"],["97046000","97072000","99044000"],["98050000","98073000","301043000","301023000"],["301044000","301023000","301011000","302071159","33071000","101047000","101022000"],["100046000","100071000","100011000"],["103030000","103074000","103011000"],["102029000","102038000","104030000","618046114","619046115","64046000"],["103029000","103074000","105030000"],["104029000","104011000","103074000"],["64029000","65044000","108043000"],["131046000","132049000","133047000","134048000","135029000","136050000","137043000","138044000","139045000","61030000"],["556043095","556045095","556046095","556047095","556048095","556049095","556050095","556029095","556030095","106043000","626044000"],["69046000","113045000","113075000"],["71044000","20039000"],["70045000","50030040","50039040","50056040","53030050","45030000"],["131049000","132045000","133043000","134050000","135048000","136047000","137044000","138030000","139029000","140046000"],["109046000","109011000"],["84048000"],["116049000"],["115047000","593030000"],["118049000","660041233","660042233","660069233","660047233","661041332","303041000","21039332","596039000"],["72030000","117029000"],["69045000","69011000","653043000","653007000"],["69045000","74043000"],["74043000","74011000","653045000","653007000"],["123047000","660041233","660042233","660069233","660049233","303041000","596039000","124077000","126028000","129040000"],["122044000","124043000","124077000","126028000","129040000"],["123044000","125047000","125036000","128048000","128037000","128030000","126028000","129040000"],["124046000","124077000","126045000","126028000","127043000","127017000"],["125046000","125023000","125011000","124077000","610030000","610039000"],["125044000","125011000","125017000","124077000","126028000"],["124045000","124029000","124077000","129046000","129030000","129040000","126028000"],["128044000","128029000","124077000","130043000","130019000","130040000","130003000","126028000"],["129044000","124077000","126028000"],["107044000","132048000","133050000","134049000","135047000","136029000","137030000","138045000","139046000","112043000"],["107050000","131029000","133045000","134046000","135044000","136049000","137047000","138043000","139030000","112048000"],["107029000","131030000","132044000","134047000","135049000","136043000","137045000","138050000","139048000","112046000"],["107047000","131045000","132050000","133048000","135043000","136030000","137046000","138029000","139044000","112049000"],["107045000","131048000","132030000","133046000","134043000","136044000","137049000","138047000","139050000","112029000"],["107043000","131044000","132029000","133049000","134030000","135046000","137050000","138048000","139047000","112045000"],["107048000","131047000","132046000","133030000","134029000","135050000","136045000","138049000","139043000","112044000"],["107030000","131043000","132047000","133029000","134044000","135045000","136046000","137048000","139049000","112050000"],["107049000","131050000","132043000","133044000","134045000","135030000","136048000","137029000","138046000","112047000"],["112045000","112011000"],["5001000"],["42001000"],["52001000"],["55001000"],["80001000"]],ja={travel:Sp};(function(n){const p=Ep,o=kn,m=ja,f=o.status,T=o.obj,E=100,F=7,z=new p,X=(R,j,ie)=>R.cond[j]&f[ie],V=(R,j,ie)=>!!X(R,j,ie),ue=(R,j)=>V(R,R.loc,j),$e=R=>ue(R,"LIGHT")||R.prop[T.LAMP]&&Pe(R,T.LAMP),Pe=(R,j)=>R.place[j]===R.loc||n.toting(R,j);n.reseed=R=>z.init_seed(R),n.roomFlag=V,n.locFlag=ue,n.travels=je,n.paths=dt,n.dark=R=>!$e(R),n.here=Pe,n.toting=(R,j)=>R.place[j]===-1,n.forced=(R,j)=>R.cond[j]===2||R.cond[j]===3,n.pct=R=>z.random()*100<R,n.at=(R,j)=>R.place[j]===R.loc||R.fixed[j]===R.loc,n.destroy=(R,j)=>Xe(R,j,0),n.randint=R=>Math.floor(z.random()*R),n.move=Xe,n.carry=ye,n.drop=tt,n.put=Ie,n.dcheck=pt,n.liq=Fe,n.liqloc=jt,n.liq2=gt;function je(R){return(m.travel[R-1]||[]).map(j=>parseInt(j,10)).map(function(j){var ie=j%1e3;j=Math.floor(j/1e3);var Ze=j%1e3;j=Math.floor(j/1e3);var wt=j%1e3;return{tcond:ie,tverb:Ze,tdest:wt}})}function dt(R){return[fe(R),We(R)]}function fe(R){const j={29:"up",30:"down"};return je(R).map(ie=>j[ie.tverb]).filter(Boolean).sort().reverse()}function We(R){const j={43:"east",44:"west",45:"north",46:"south",47:"northeast",48:"southeast",49:"southwest",50:"northwest"},ie=["north","south","east","west","northeast","southeast","northwest","southwest"];var Ze=je(R).map(wt=>j[wt.tverb]).filter(Boolean);return ie.filter(wt=>Ze.indexOf(wt)>=0)}function Xe(R,j,ie){var Ze=j<E?R.place[j]:R.fixed[j-E];Ze>0&&Ze<=300&&ye(R,j),tt(R,j,ie)}function ye(R,j){j>=E||R.place[j]===-1||(R.place[j]=-1,R.holding++)}function tt(R,j,ie){j<E?(R.place[j]===-1&&R.holding--,R.place[j]=ie):R.fixed[j-E]=ie}function Ie(R,j,ie,Ze){return Xe(R,j,ie),-1-Ze}function pt(R){for(var j=1;j<F-1;j++)if(R.dloc[j]===R.loc)return j;return 0}function Fe(R){var j=R.prop[T.BOTTLE],ie=-1-j;return gt(R,Math.max(j,ie))}function jt(R){return ue(R,"LIQUID")?gt(R,X(R,R.loc,"WATOIL")):gt(R,1)}function gt(R,j){return(1-j)*T.WATER+(j>>1)*(T.WATER+T.OIL)}})(An);const Yp=[[],["You're at end of road again."],["You're at hill in road."],["You're inside building."],["You're in valley."],["You're in forest."],["You're in forest."],["You're at slit in streambed."],["You're outside grate."],["You're below the grate."],["You're in cobble crawl."],["You're in debris room."],["You are in an awkward sloping east/west canyon."],["You're in bird chamber."],["You're at top of small pit."],["You're in hall of mists."],["The crack is far too small for you to follow."],["You're on east bank of fissure."],["You're in nugget of gold room."],["You're in hall of mt. king."],["You are at the bottom of the pit with a broken neck."],["You didn't make it."],["The dome is unclimbable."],["You're at west end of twopit room."],["You're in east pit."],["You're in west pit."],["You clamber up the plant and scurry through the hole at the","top."],["You are on the west side of the fissure in the hall of mists."],["You are in a low N/S passage at a hole in the floor.  The","hole goes down to an E/W passage."],["You are in the south side chamber."],["You are in the west side chamber of the hall of the","mountain king.  A passage continues west and up here."],[">$<"],["You can't get by the snake."],[`You're at "Y2".`],["You are in a jumble of rock, with cracks everywhere."],["You're at window on pit."],["You're in dirty passage."],["You are on the brink of a small clean climbable pit.  A","crawl leads west."],["You are in the bottom of a small pit with a little stream,","which enters and exits through tiny slits."],["You're in dusty rock room."],["You have crawled through a very low wide passage parallel","to and north of the hall of mists."],["You're at west end of hall of mists."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["Dead end."],["Dead end."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["You're at brink of pit."],["Dead end."],["You have crawled through a very low wide passage parallel","to and north of the hall of mists."],["You're at east end of long hall."],["You're at west end of long hall."],["You are at a crossover of a high N/S passage and a low","E/W one."],["Dead end."],["You're at complex junction."],["You are in bedquilt, a long east/west passage with holes","everywhere.  To explore at random select north, south, up","or down."],["You're in swiss cheese room."],["You're at east end of twopit room."],["You're in slab room."],["You are in a secret N/S canyon above a large room."],["You are in a secret N/S canyon above a sizable passage."],["You're at junction of three secret canyons."],["You are in a large low room.  Crawls lead north, se, and sw."],["Dead end crawl."],["You're at secret E/W canyon above tight canyon."],["You are at a wide place in a very tight N/S canyon."],["The canyon here becomes too tight to go further south."],["You are in a tall E/W canyon.  A low tight crawl goes 3","feet north and seems to open up."],["The canyon runs into a mass of boulders -- dead end."],["The stream flows out through a pair of 1 foot diameter","sewer pipes.  It would be advisable to use the exit."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["Dead end."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["Dead end."],["You are in a maze of twisty little passages, all alike."],["You're in narrow corridor."],['There is nothing here to climb.  Use "up" or "out" to leave',"the pit."],["You have climbed up the plant and out of the pit."],["You're at steep incline above large room."],["You're in giant room."],["The passage here is blocked by a recent cave-in."],["You are at one end of an immense north/south passage."],["You're in cavern with waterfall."],["You're in soft room."],["You're in oriental room."],["You're in misty cavern."],["You're in alcove."],["You're in plover room."],["You're in dark-room."],["You're in arched hall."],["You're in shell room."],["You are in a long sloping corridor with ragged sharp walls."],["You are in a cul-de-sac about eight feet across."],["You're in anteroom."],["You are in a maze of twisty little passages, all different."],["You're at Witt's end."],["You're in mirror canyon."],["You're at window on pit."],["You're at top of stalactite."],["You are in a little maze of twisting passages, all different."],["You're at reservoir."],["Dead end."],["You're at ne end of repository."],["You're at sw end of repository."],["You're on sw side of chasm."],["You're in sloping corridor."],["You are in a secret canyon which exits to the north and east."],["You are in a secret canyon which exits to the north and east."],["You are in a secret canyon which exits to the north and east."],["You're on ne side of chasm."],["You're in corridor."],["You're at fork in path."],["You're at junction with warm walls."],["You're at breath-taking view."],["You're in chamber of boulders."],["You're in limestone passage."],["You're in front of barren room."],["You're in barren room."],["You are in a maze of twisting little passages, all different."],["You are in a little maze of twisty passages, all different."],["You are in a twisting maze of little passages, all different."],["You are in a twisting little maze of passages, all different."],["You are in a twisty little maze of passages, all different."],["You are in a twisty maze of little passages, all different."],["You are in a little twisty maze of passages, all different."],["You are in a maze of little twisting passages, all different."],["You are in a maze of little twisty passages, all different."],["Dead end."],[],[],[],[],[]],xp={shortDescriptions:Yp},Dp=[[],["You are standing at the end of a road before a small brick","building.  Around you is a forest.  A small stream flows out","of the building and down a gully."],["You have walked up a hill, still in the forest.  The road","slopes back down the other side of the hill.  There is a","building in the distance."],["You are inside a building, a well house for a large spring."],["You are in a valley in the forest beside a stream tumbling","along a rocky bed."],["You are in open forest, with a deep valley to one side."],["You are in open forest near both a valley and a road."],["At your feet all the water of the stream splashes into a","2-inch slit in the rock.  Downstream the streambed is bare rock."],["You are in a 20-foot depression floored with bare dirt.  Set","into the dirt is a strong steel grate mounted in concrete.","A dry streambed leads into the depression."],["You are in a small chamber beneath a 3x3 steel grate to the","surface.  A low crawl over cobbles leads inward to the west."],["You are crawling over cobbles in a low passage.  There is a","dim light at the east end of the passage."],["You are in a debris room filled with stuff washed in from the","surface.  A low wide passage with cobbles becomes plugged","with mud and debris here, but an awkward canyon leads","upward and west.  A note on the wall says:",'       Magic Word "XYZZY"'],["You are in an awkward sloping east/west canyon."],["You are in a splendid chamber thirty feet high.  The walls","are frozen rivers of orange stone.  An awkward canyon and a","good passage exit from east and west sides of the chamber."],["At your feet is a small pit breathing traces of white mist.","An east passage ends here except for a small crack leading","on."],["You are at one end of a vast hall stretching forward out of","sight to the west.  There are openings to either side.","Nearby, a wide stone staircase leads downward.  The hall","is filled with wisps of white mist swaying to and fro","almost as if alive.  A cold wind blows up the staircase.","There is a passage at the top of a dome behind you."],["The crack is far too small for you to follow."],["You are on the east bank of a fissure slicing clear across","the hall.  The mist is quite thick here, and the fissure","is too wide to jump."],["This is a low room with a crude note on the wall.  The","note says:","       You won't get it up the steps."],["You are in the hall of the mountain king, with passages","off in all directions."],["You are at the bottom of the pit with a broken neck."],["You didn't make it."],["The dome is unclimbable."],["You are at the west end of the twopit room.  There is a","large hole in the wall above the pit at this end of the","room."],["You are at the bottom of the eastern pit in the twopit","room.  There is a small pool of oil in one corner of the","pit."],["You are at the bottom of the western pit in the twopit room.","There is a large hole in the wall about 25 feet above you."],["You clamber up the plant and scurry through the hole at the","top."],["You are on the west side of the fissure in the hall of mists."],["You are in a low N/S passage at a hole in the floor.  The","hole goes down to an E/W passage."],["You are in the south side chamber."],["You are in the west side chamber of the hall of the","mountain king.  A passage continues west and up here."],[">$<"],["You can't get by the snake."],["You are in a large room, with a passage to the south,","a passage to the west, and a wall of broken rock to the",`east.  There is a large "Y2" on a rock in the room's `,"center."],["You are in a jumble of rock, with cracks everywhere."],["You're at a low window overlooking a huge pit, which","extends up out of sight.  A floor is indistinctly visible","over 50 feet below.  Traces of white mist cover the floor","of the pit, becoming thicker to the right.  Marks in the","dust around the window would seem to indicate that","someone has been here recently.  Directly across the pit","from you and 25 feet away there is a similar window","looking into a lighted room.  A shadowy figure can","be seen there peering back at you."],["You are in a dirty broken passage.  To the east is a","crawl.  To the west is a large passage.  Above you is","another passage."],["You are on the brink of a small clean climbable pit.  A","crawl leads west."],["You are in the bottom of a small pit with a little stream,","which enters and exits through tiny slits."],["You are in a large room full of dusty rocks.  There is a","big hole in the floor.  There are cracks everywhere, and","a passage leading east."],["You have crawled through a very low wide passage parallel","to and north of the hall of mists."],["You are at the west end of hall of mists.  A low wide crawl","continues west and another goes north.  To the south is a","little passage 6 feet off the floor."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["Dead end."],["Dead end."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["You are on the brink of a thirty foot pit with a massive","orange column down one wall.  You could climb down here but","you could not get back up.  The maze continues at this level."],["Dead end."],["You have crawled through a very low wide passage parallel","to and north of the hall of mists."],["You are at the east end of a very long hall apparently","without side chambers.  To the east a low wide crawl","slants up.  To the north a round two foot hole slants","down."],["You are at the west end of a very long featureless hall.","The hall joins up with a narrow north/south passage."],["You are at a crossover of a high N/S passage and a low","E/W one."],["Dead end."],["You are at a complex junction.  A low hands and knees passage","from the north joins a higher crawl from the east to make","a walking passage going west.  There is also a large room","above.  The air is damp here."],["You are in bedquilt, a long east/west passage with holes","everywhere.  To explore at random select north, south, up","or down."],["You are in a room whose walls resemble swiss cheese.  ","Obvious passages go west, east, ne, and nw.  Part of the","room is occupied by a large bedrock block."],["You are at the east end of the twopit room.  The floor","here is littered with thin rock slabs, which make it easy","to descend the pits.  There is a path here bypassing","the pits to connect passages from east and west.","There are holes all over, but the only big one is on","the wall directly over the west pit where you can't","get at it."],["You are in a large low circular chamber whose floor is","an immense slab fallen from the ceiling (slab room).","East and west there once were large passages, but they","are now filled with boulders.  Low small passages go","north and south, and the south one quickly bends west","around the boulders."],["You are in a secret N/S canyon above a large room."],["You are in a secret N/S canyon above a sizable passage."],["You are in a secret canyon at a junction of three canyons,","bearing north, south and se.  The north one is as tall as","the other two combined."],["You are in a large low room.  Crawls lead north, se, and sw."],["Dead end crawl."],["You are in a secret canyon which here runs E/W.  It crosses","over a very tight canyon 15 feet below.  If you go down you","may not be able to get back up."],["You are at a wide place in a very tight N/S canyon."],["The canyon here becomes too tight to go further south."],["You are in a tall E/W canyon.  A low tight crawl goes 3","feet north and seems to open up."],["The canyon runs into a mass of boulders -- dead end."],["The stream flows out through a pair of 1 foot diameter","sewer pipes.  It would be advisable to use the exit."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["Dead end."],["You are in a maze of twisty little passages, all alike."],["You are in a maze of twisty little passages, all alike."],["Dead end."],["Dead end."],["You are in a maze of twisty little passages, all alike."],["You are in a long, narrow corridor stretching out of sight","to the west.  At the eastern end is a hole through which","you can see a profusion of leaves."],['There is nothing here to climb.  Use "up" or "out" to leave',"the pit."],["You have climbed up the plant and out of the pit."],["You are at the top of a steep incline above a large room.","You could climb down here, but you would not be able to","climb up.  There is a passage leading back to the north."],["You are in the giant room.  The ceiling is too high up","for your lamp to show it.  Cavernous passages lead east,","north, and south.  On the west wall is scrawled the","inscription:",'              "Fee Fie Foe Foo"       {sic}'],["The passage here is blocked by a recent cave-in."],["You are at one end of an immense north/south passage."],["You are in a magnificent cavern with a rushing stream,","which cascades over a sparkling waterfall into a","roaring whirlpool which disappears through a hole in","the floor.  Passages exit to the south and west."],["You are in the soft room.  The walls are covered with","heavy curtains, the floor with a thick pile carpet.","Moss covers the ceiling."],["This is the oriental room.  Ancient oriental cave drawings","cover the walls.  A gently sloping passage leads upward","to the north, another passage leads se, and a hands and","knees crawl leads west."],["You are following a wide path around the outer edge of a","large cavern.  Far below, through a heavy white mist,","strange splashing noises can be heard.  The mist rises up","through a fissure in the ceiling.  The path exits to the","south and west."],["You are in an alcove.  A small nw path seems to widen","after a short distance.  An extremely tight tunnel leads","east.  It looks like a very tight squeeze.  An eerie","light can be seen at the other end."],["You're in a small chamber lit by an eerie green light.  An","extremely narrow tunnel exits to the west.  A dark corridor","leads ne.  A faint message is scratched into the wall.  It",'says: "PLOVER"'],["You're in the dark-room.  A corridor leading south is the","only exit."],["You are in an arched hall.  A coral passage once continued","up and east from here, but is now blocked by debris.  The","air smells of sea water."],["You're in a large room carved out of sedimentary rock.","The floor and walls are littered with bits of shells","imbedded in the stone.  A shallow passage proceeds","downward, and a somewhat steeper one leads up.  A low","hands and knees passage enters from the south."],["You are in a long sloping corridor with ragged sharp walls."],["You are in a cul-de-sac about eight feet across."],["You are in an anteroom leading to a large passage to the","east.  Small passages go west and up.  The remnants of","recent digging are evident.  A sign in midair here says:",'       "Cave under construction beyond this point."','              "Proceed at your own risk."','             "Witt construction company"'],["You are in a maze of twisty little passages, all different."],["You are at Witt's end.  Passages lead off in ALL directions."],["You are in a north/south canyon about 25 feet across.  The","floor is covered by white mist seeping in from the north.","The walls extend upward for well over 100 feet.  Suspended","from some unseen point far above you, an enormous two-","sided mirror is hanging parallel to and midway between","the canyon walls.  (The mirror is obviously provided","for the use of the dwarves, who as you know, are","extremely vain.)  A small window can be seen in either","wall, some fifty feet up."],["You're at a low window overlooking a huge pit, which","extends up out of sight.  A floor is indistinctly visible","over 50 feet below.  Traces of white mist cover the floor","of the pit, becoming thicker to the left.  Marks in the","dust around the window would seem to indicate that","someone has been here recently.  Directly across the pit","from you and 25 feet away there is a similar window","looking into a lighted room.  A shadowy figure can be seen","there peering back at you."],["A large stalactite extends from the roof and almost reaches","the floor below.  You could climb down it, and jump from","it to the floor, but having done so you would be unable to","reach it to climb back up."],["You are in a little maze of twisting passages, all different."],["You are at the edge of a large underground reservoir.  An","opaque cloud of white mist fills the room and rises","rapidly upward.  The lake is fed by a stream which tumbles","out of a hole in the wall about 10 feet overhead and","splashes noisily into the water somewhere within the mist.","The only passage goes back toward the south."],["Dead end."],["You are at the northeast end of an immense room, even","larger than the giant room.  It appears to be a repository",'for the "adventure" program.  Massive torches far overhead',"bathe the room with smoky yellow light.  Scattered about","you can be seen a pile of bottles (all of them empty), a","nursery of young beanstalks murmuring quietly, a bed of","oysters, a bundle of black rods with rusty stars on their","ends, and a collection of brass lanterns.  Off to one side","a great many dwarves are sleeping on the floor, snoring","loudly.  A sign nearby reads:",'        "Do NOT disturb the dwarves!"',"An immense mirror is hanging against one wall, and","stretches to the other end of the room, where various","other sundry objects can be glimpsed dimly in the distance."],["You are at the southwest end of the repository.  To one","side is a pit full of fierce green snakes.  On the other","side is a row of small wicker cages, each of which contains","a little sulking bird.  In one corner is a bundle of","black rods with rusty marks on their ends.  A large","number of velvet pillows are scattered about on the floor.","A vast mirror stretches off to the northeast.  At your","feet is a large steel grate, next to which is a sign","which reads:",'     "Treasure vault.  Keys in main office."'],["You are on one side of a large deep chasm.  A heavy white","mist rising up from below obscures all view of the far","side.  A sw path leads away from the chasm into a winding","corridor."],["You are in a long winding corridor sloping out of sight","in both directions."],["You are in a secret canyon which exits to the north and east."],["You are in a secret canyon which exits to the north and east."],["You are in a secret canyon which exits to the north and east."],["You are on the far side of the chasm.  A ne path leads away","from the chasm on this side."],["You're in a long east/west corridor.  A faint rumbling noise","can be heard in the distance."],["The path forks here.  The left fork leads northeast.  A dull","rumbling seems to get louder in that direction.  The right","fork leads southeast down a gentle slope.  The main","corridor enters from the west."],["The walls are quite warm here.  From the north can be heard","a steady roar, so loud that the entire cave seems to be","trembling.  Another passage leads south, and a low crawl","goes east."],["You are on the edge of a breath-taking view.  Far below","you is an active volcano, from which great gouts of molten","lava come surging out, cascading back down into the depths.","The glowing rock fills the farthest reaches of the cavern","with a blood-red glare, giving everything an eerie,","macabre appearance.  The air is filled with flickering","sparks of ash and a heavy smell of brimstone.  The walls","are hot to the touch, and the thundering of the volcano","drowns out all other sounds.  Embedded in the jagged roof","far overhead are myriad formations composed of pure","white alabaster, which scatter their murky light into","sinister apparitions upon the walls.  To one side is a","deep gorge, filled with a bizarre chaos of tortured","rock which seems to have been crafted by the Devil","Himself.  An immense river of fire crashes out from","the depths of the volcano, burns its way through the","gorge, and plummets into a bottomless pit far off to your","left.  To the right, an immense geyser of blistering","steam erupts continuously from a barren island in the","center of a sulfurous lake, which bubbles ominously.","The far right wall is aflame with an incandescence of its","own, which lends an additional infernal splendor to the","already hellish scene.  A dark, foreboding passage exits","to the south."],["You are in a small chamber filled with large boulders.","The walls are very warm, causing the air in the room","to be almost stifling from the heat.  The only exit","is a crawl heading west, through which is coming","a low rumbling."],["You are walking along a gently sloping north/south passage","lined with oddly shaped limestone formations."],["You are standing at the entrance to a large, barren","room.  A sign posted above the entrance reads:",'       "Caution!  Bear in room!"'],["You are inside a barren room.  The center of the room","is completely empty except for some dust.  Marks in","the dust lead away toward the far end of the room.","The only exit is the way you came in."],["You are in a maze of twisting little passages, all different."],["You are in a little maze of twisty passages, all different."],["You are in a twisting maze of little passages, all different."],["You are in a twisting little maze of passages, all different."],["You are in a twisty little maze of passages, all different."],["You are in a twisty maze of little passages, all different."],["You are in a little twisty maze of passages, all different."],["You are in a maze of little twisting passages, all different."],["You are in a maze of little twisty passages, all different."],["Dead end."],[],[],[],[],[]],Ia={longDescriptions:Dp},Np=[[],["Set of keys","There are some keys on the ground here."],["Brass lantern","There is a shiny brass lamp nearby.","There is a lamp shining nearby."],["*Grate","The grate is locked.","The grate is open."],["Wicker cage","There is a small wicker cage discarded nearby."],["Black rod","A three foot black rod with a rusty star on an end lies nearby."],["Black rod","A three foot black rod with a rusty mark on an end lies nearby."],["*Steps","Rough stone steps lead down the pit.","Rough stone steps lead up the dome."],["Little bird in cage","A cheerful little bird is sitting here singing.","There is a little bird in the cage."],["*Rusty door","The way north is barred by a massive, rusty, iron door.","The way north leads through a massive, rusty, iron door."],["Velvet pillow","A small velvet pillow lies on the floor."],["*Snake","A huge green fierce snake bars the way!"],["*Fissure","","A crystal bridge now spans the fissure.","The crystal bridge has vanished!"],["*Stone tablet",'A massive stone tablet imbedded in the wall reads: "Congratulations on bringing light into the "dark-room!"'],["Giant clam >Grunt!<","There is an enormous clam here with its shell tightly closed."],["Giant oyster >Groan!<","There is an enormous oyster here with its shell tightly closed.","Interesting. There seems to be something written on the underside of the oyster."],['"Spelunker Today"','There are a few recent issues of "Spelunker Today" magazine here.'],["Tasty food","There is tasty food here."],["Tasty food","There is tasty food here."],["Tasty food","There is tasty food here."],["Small bottle","There is a bottle of water here.","There is an empty bottle here.","There is a bottle of oil here."],["Water in the bottle"],["Oil in the bottle"],["*Mirror"],["*Plant",'There is a tiny little plant in the pit, murmuring "Water, Water, ..."',"The plant spurts into furious growth for a few seconds.",'There is a 12-foot-tall beanstalk stretching up out of the pit, bellowing "Water!! Water!!"',"The plant grows explosively, almost filling the bottom of the pit. ","There is a gigantic beanstalk stretching all the way up to the hole.","You've over-watered the plant! It's shriveling up! It's, it's..."],["*Phony plant","The top of a 12-foot-tall beanstalk is poking up out of the west pit.","There is a huge beanstalk growing out of the west pit up to the hole."],["*Stalactite"],["*Shadowy figure","The shadowy figure seems to be trying to attract your attention."],["Dwarf's axe","There is a little axe here.","There is a little axe lying beside the bear."],["*Cave drawings"],["*Pirate"],["*Dragon","A huge green fierce dragon bars the way!","Congratulations! You have just vanquished a dragon with your bare hands! (Unbelievable, isn't it?)","The body of a huge green dead dragon is lying off to one side."],["*Chasm",`A rickety wooden bridge extends across the chasm, vanishing into the mist. A sign posted on the bridge reads:
"Stop! Pay Troll!"`,"The wreckage of a bridge (and a dead bear) can be seen at the bottom of the chasm."],["*Troll","A burly troll stands by the bridge and insists you throw him a treasure before you may cross.","The troll steps out from beneath the bridge and blocks your way."],["*Phony troll","The troll is nowhere to be seen."],["","There is a ferocious cave bear eyeing you from the far end of the room!","There is a gentle cave bear sitting placidly in one corner.","There is a contented-looking bear wandering about nearby."],["*Message in second maze",`There is a message scrawled in the dust in a flowery script, reading:
"This is not the maze where the"
"pirate leaves his treasure chest."`],["*Volcano and,or Geyser"],["*Vending machine",'There is a massive vending machine here. The instructions on it read: "Drop coins here to receive fresh batteries."'],["Batteries","There are fresh batteries here.","Some worn-out batteries have been discarded nearby."],["*Carpet and,or Moss"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Large gold nugget","There is a large sparkling nugget of gold here!"],["Several diamonds","There are diamonds here!"],["Bars of silver","There are bars of silver here!"],["Precious jewelry","There is precious jewelry here!"],["Rare coins","There are many coins here!"],["Treasure chest","The pirate's treasure chest is here!"],["Golden eggs","There is a large nest here, full of golden eggs!","The nest of golden eggs has vanished!","Done!"],["Jeweled trident","There is a jewel-encrusted trident here!"],["Ming vase","There is a delicate, precious, ming vase here!","The vase is now resting, delicately, on a velvet pillow.","The floor is littered with worthless shards of pottery.","The ming vase drops with a delicate crash."],["Egg-sized emerald","There is an emerald here the size of a plover's egg!"],["Platinum pyramid","There is a platinum pyramid here, 8 inches on a side!"],["Glistening pearl","Off to one side lies a glistening pearl!"],["Persian rug","There is a persian rug spread out on the floor!","The dragon is sprawled out on a persian rug!!"],["Rare spices","There are rare spices here!"],["Golden chain","There is a golden chain lying in a heap on the floor!","The bear is locked to the wall with a golden chain!","There is a golden chain locked to the wall!"]],La={items:Np},Cp=[[],["","","Somewhere nearby is Colossal Cave, where others have","found fortunes in treasure and gold, though it is rumored","that some who enter are never seen again.  Magic is said","to work in the cave.  I will be your eyes and hands.  Direct","me with commands of 1 or 2 words.  Should you get stuck, type",'"help" for some general hints.)',""],["A little dwarf with a big knife blocks your way."],["A little dwarf just walked around a corner, saw you,","threw a little axe at you which missed, cursed, and ran away."],["There is a threatening little dwarf in the room with you!"],["One sharp, nasty knife is thrown at you!"],["None of them hit you!"],["One of them gets you!"],['A hollow voice says "Plugh".'],["There is no way to go that direction."],["I am unsure how you are facing.  Use compass points or","nearby objects."],["I don't know in from out here.  Use compass points or name","something in the general direction you want to go."],["I don't know how to apply that word here."],["I don't understand that!"],["I'm game.  Would you care to explain how?"],["Sorry, but I am not allowed to give more detail.  I will","repeat the long description of your location."],["It is now pitch dark.  If you proceed you will likely fall","into a pit."],["If you prefer, simply type W rather than west."],["Are you trying to catch the bird?"],["The bird is frightened right now and you cannot catch","it no matter what you try.  Perhaps you might try later."],["Are you trying to somehow deal with the snake?"],["You can't kill the snake, or drive it away, or avoid it,","or anything like that.  There is a way to get by, but you","don't have the necessary resources right now."],["Do you really want to quit now?"],["You fell into a pit and broke every bone in your body!"],["You are already carrying it!"],["You can't be serious!"],["The bird was unafraid when you entered, but as you approach","it becomes disturbed and you cannot catch it."],["You can catch the bird, but you cannot carry it."],["There is nothing here with a lock!"],["You aren't carrying it!"],["The little bird attacks the green snake, and in an","astounding flurry drives the snake away."],["You have no keys!"],["It has no lock."],["I don't know how to lock or unlock such a thing."],["It was already locked."],["The grate is now locked."],["The grate is now unlocked."],["It was already unlocked."],["You have no source of light."],["Your lamp is now on."],["Your lamp is now off."],["There is no way to get past the bear to unlock the chain,","which is probably just as well."],["Nothing happens."],["Where?"],["There is nothing here to attack."],["The little bird is now dead.  Its body disappears."],["Attacking the snake both doesn't work and is very dangerous."],["You killed a little dwarf."],["You attack a little dwarf, but he dodges out of the way."],["With what?  Your bare hands?"],["Good try, but that is an old worn-out magic word."],["I know of places, actions, and things.  Most of my vocabulary","describes places and is used to move you there.  To move, try","words like forest, building, downstream, enter, east, west,","north, south, up or down.  I know about a few special","objects, like a black rod hidden in the cave.  These objects","can be manipulated using some of the action words I know.","Usually you will need to give both the object and action","words (in either order), but sometimes I can infer the","object from the verb alone.  Some objects also imply verbs;",'in particular, "inventory" implies "take inventory", which',"causes me to give you a list of what you're carrying.  The","objects have side effects; for instance, the rod scares the","bird.  Usually people having trouble moving just need","to try a few more words.  Usually people trying unsuccessfully","to manipulate an object are attempting something beyond their","(or my!) capabilities and should try a completely different","tack.  To speed the game you can sometimes move long distances",'with a single word.  For example, "building" usually gets you',"to the building from anywhere above ground except when lost","in the forest.  Also, note that cave passages turn a lot, and","that leaving a room to the north does not guarantee entering","the next from the south.","Good luck!"],["It misses!"],["It gets you!"],["ok."],["You can't unlock the keys."],["You have crawled around in some little holes and wound up","back in the main passage."],["I don't know where the cave is, but hereabouts no stream","can run on the surface for very long.  I would try the stream."],["I need more detailed instructions to do that."],["I can only tell you what you see as you move about and","manipulate things.  I cannot tell you where remote things are."],["I don't know that word."],["What?"],["Are you trying to get into the cave?"],["The grate is very solid and has a hardened steel lock.  You","cannot enter without a key, and there are no keys nearby.","I would recommend looking elsewhere for the keys."],["The trees of the forest are large hardwood oak and maple,","with an occasional grove of pine or spruce.  There is quite","a bit of undergrowth, largely birch and ash saplings plus","nondescript bushes of various sorts.  This time of year ","visibility is quite restricted by all the leaves, but travel","is quite easy if you detour around the spruce and berry","bushes."],["","    Welcome to ADVENTURE!","","  Original development by Willie Crowther.","  Major features added by Don Woods.","  Conversion to BDS C  by J. R. Jaeger.","  Unix standardization by Jerry D. Pohl.","  JS porting & tweaks  by Ray Myers.","","    Would you like instructions?",""],["Digging without a shovel is quite impractical.  Even with a","shovel progress is unlikely."],["Blasting requires dynamite."],["I'm as confused as you are."],["Mist is a white vapor, usually water.  Seen from time to time","in caverns.  It can be found anywhere but is frequently a","sign of a deep pit leading down to water."],["Your feet are now wet."],["I think I just lost my appetite."],["Thank you.  It was delicious!"],["You have taken a drink from the stream.  The water tastes","strongly of minerals, but is not unpleasant.  It is extremely","cold."],["The bottle of water is now empty."],["Rubbing the electric lamp is not particularly rewarding.","Anyway, nothing exciting happens."],["Peculiar.  Nothing unexpected happens."],["Your bottle is empty and the ground is wet."],["You can't pour that."],["Watch it!"],["Which way?"],["Oh dear, you seem to have gotten yourself killed.  I might","be able to help you out, but I've never really done this","before.  Do you want me to try to reincarnate you?"],["All right.  But don't blame me if something goes wr......","                    --- POOF !! ---","You are engulfed in a cloud of orange smoke.  Coughing and","gasping, you emerge from the smoke and find..."],["You clumsy oaf, you've done it again!  I don't know how long","I can keep this up.  Do you want me to try reincarnating","you again?"],["Okay, now where did I put my orange smoke? ... > POOF! <","Everything disappears in a dense cloud of orange smoke."],["Now you've really done it!  I'm out of orange smoke!  You","don't expect me to do a decent reincarnation without any","orange smoke, do you?"],["Okay, If you're so smart, do it yourself!  I'm leaving!"],["Reserved"],["Reserved"],["Reserved"],["Reserved"],["Sorry, but I no longer seem to remember how it was you","got here."],["You can't carry anything more.  You'll have to drop something","first."],["You can't go through a locked steel grate!"],["I believe what you want is right here with you."],["You don't fit through a two-inch slit!"],["I respectfully suggest you go across the bridge instead","of jumping."],["There is no way across the fissure."],["You're not carrying anything."],["You are currently holding the following:"],["It's not hungry (it's merely pinin' for the Fjords).  Besides","you have no bird seed."],["The snake has now devoured your bird."],["There's nothing here it wants to eat (except perhaps you)."],["You fool, dwarves eat only coal!  Now you've made","him REALLY mad!!"],["You have nothing in which to carry it."],["Your bottle is already full."],["There is nothing here with which to fill the bottle."],["Your bottle is now full of water."],["Your bottle is now full of oil."],["You can't fill that."],["Don't be ridiculous!"],["The door is extremely rusty and refuses to open."],["The plant indignantly shakes the oil off its leaves and asks:",'"Water?"'],["The hinges are quite thoroughly rusted now and won't budge."],["The oil has freed up the hinges so that the door will now move,","although it requires some effort."],["The plant has exceptionally deep roots and cannot be pulled free."],["The dwarves' knives vanish as they strike the walls of the cave."],["Something you're carrying won't fit through the tunnel with","you.  You'd best take inventory and drop something."],["You can't fit this five-foot clam through that little passage!"],["You can't fit this five-foot oyster through that little passage!"],["I advise you to put down the clam before opening it. >STRAIN!<"],["I advise you to put down the oyster before opening it.",">WRENCH!<"],["You don't have anything strong enough to open the clam."],["You don't have anything strong enough to open the oyster."],["A glistening pearl falls out of the clam and rolls away.","Goodness, this must really be an oyster.  (I never was","very good at identifying bivalves.)  Whatever it is,","it has now snapped shut again."],["The oyster creaks open, revealing nothing but oyster inside.","It promptly snaps shut again."],["You have crawled around in some little holes and found your","way blocked by a recent cave-in.  You are now back in the","main passage."],["There are faint rustling noises from the darkness behind","you."],["Out from the shadows behind you pounces a bearded pirate!",`"Har, har" he chortles, "I'll just take all this booty and`,'hide it away with me chest deep in the maze!"  He snatches',"your treasure and vanishes into the gloom."],["A sepulchral voice reverberating through the cave says:",'"Cave closing soon.  All adventurers exit immediately','through main office."'],["A mysterious recorded voice groans into life and announces:",'"This exit is closed.  Please leave via main office."'],["It looks as though you're dead.  Well, seeing as how it's so","close to closing time anyway, I think we'll just call it a day."],['The sepulchral voice entones, "The cave is now closed."  As',"the echoes fade, there is a blinding flash of light (and a","small puff of orange smoke). . . . ","As your eyes refocus you look around and find..."],["There is a loud explosion, and a twenty-foot hole appears in","the far wall, burying the dwarves in the rubble.  You march","through the hole and find yourself in the main office, where","a cheering band of friendly elves carry the conquering","adventurer off into the sunset."],["There is a loud explosion, and a twenty-foot hole appears in","the far wall, burying the snakes in the rubble.  A river of","molten lava pours in through the hole, destroying","everything in its path, including you!!"],["There is a loud explosion, and you are suddenly splashed across","the walls of the room."],["The resulting ruckus has awakened the dwarves.  There are now","several threatening little dwarves in the room with you!","Most of them throw knives at you!  All of them get you!"],["Oh, leave the poor unhappy bird alone."],["I daresay whatever you want is around here somewhere."],[`I don't know the word "stop".  Use "quit" if you want to`,"give up."],["You can't get there from here."],["You are being followed by a very large, tame bear."],['If you want to end your adventure early, say "quit".  To',"save your adventure such that you can continue later",`say "save".  To see how well you're doing, say "score".`,"To get full credit for a treasure, you must have left it","safely in the building, though you get partial credit just","for locating it.  You lose points for getting killed, or for","quitting, though the former costs you more.  There are also","points based on how much (if any) of the cave you've managed","to explore; in particular, there is a large bonus just for","getting in (to distinguish the beginners from the rest of","the pack), and there are other ways to determine whether","you've been through some of the more harrowing sections.","If you think you've found all the treasures, just keep","exploring for a while.  If nothing interesting happens, you","haven't found them all yet.  If something interesting DOES","happen, it means you're getting a bonus and have an","opportunity to garner many more points in the master's","section.  I may occasionally offer hints if you seem to","be having trouble.  If I do, I'll warn you in","advance how much it will affect your score to accept the","hints."],["Do you indeed wish to quit now?"],["There is nothing here with which to fill the vase."],["The sudden change in temperature has delicately shattered","the vase."],["It is beyond your power to do that."],["I don't know how."],["It is too far up for you to reach."],["You killed a little dwarf.  The body vanished in a cloud","of greasy black smoke."],["The shell is very strong and impervious to attack."],["What's the matter, can't you read?  Now you'd best start","over."],["The axe bounces harmlessly off the dragon's thick scales."],["The dragon looks rather nasty.  You'd best not try to get by."],["The little bird attacks the green dragon, and in an","astounding flurry gets burnt to a cinder.  The ashes blow away."],["On what?"],["Okay, from now on I'll only describe a place in full the","first time you come to it.  To get the full description",'say "look".'],["Trolls are close relatives with the rocks and have skin as","tough as that of a rhinoceros.  The troll fends off your","blows effortlessly."],["The troll deftly catches the axe, examines it carefully,",'and tosses it back, declaring, "Good workmanship,',`but it's not valuable enough."`],["The troll catches your treasure and scurries away out of sight."],["The troll refuses to let you cross."],["There is no longer any way across the chasm."],["Just as you reach the other side, the bridge buckles beneath","the weight of the bear, which was still following you around.","You scrabble desperately for support, but as the bridge ","collapses you stumble back and fall into the chasm."],["The bear lumbers toward the troll, who lets out a","startled shriek and scurries away.  The bear soon gives","up pursuit and wanders back."],["The axe misses and lands near the bear where you can't get","at it."],["With what?  Your bare hands?  Against HIS bear hands??"],["The bear is confused; he only wants to be your friend."],["For crying out loud, the poor thing is already dead!"],["The bear eagerly wolfs down your food, after which he seems","to calm down considerably, and even becomes rather friendly."],["The bear is still chained to the wall."],["The chain is still locked."],["The chain is now unlocked."],["The chain is now locked."],["There is nothing here to which the chain can be locked."],["There is nothing here to eat."],["Do you want the hint?"],["Do you need help getting out of the maze?"],["You can make the passages look less alike by dropping things."],["Are you trying to explore beyond the plover room?"],["There is a way to explore that region without having to","worry about falling into a pit.  None of the objects","available is immediately useful in discovering the secret."],["Do you need help getting out of here?"],["Don't go west."],["Gluttony is not one of the troll's vices.  Avarice, however, is."],["Your lamp is getting dim.  You'd best start wrapping this up,","unless you can find some fresh batteries.  I seem to recall","there's a vending machine in the maze.  Bring some coins","with you."],["Your lamp has run out of power."],["There's not much point in wandering around out here, and you","can't explore the cave without a lamp.  So let's just call","it a day."],["There are faint rustling noises from the darkness behind you.","As you turn toward them, the beam of your lamp falls across a",'bearded pirate.  He is carrying a large chest.  "Shiver me',`timbers!"  he cries, "I've been spotted!  I'd best hide`,'meself off to the maze and hide me chest!"  With that,',"he vanished into the gloom."],["Your lamp is getting dim.  You'd best go back for","those batteries."],["Your lamp is getting dim.  I'm taking the liberty of replacing","the batteries."],["Your lamp is getting dim, and you're out of spare batteries.","You'd best start wrapping this up."],["I'm afraid the magazine is written in Dwarvish."],['"This is not the maze where the pirate leaves his treasure','chest."'],["Hmm, this looks like a clue, which means it'll cost you 10","points to read it.  Should I go ahead and read it anyway?"],['It says, "There is something strange about this place,',"such that one of the words I've always known now has",'a new effect."'],["It says the same thing it did before."],["I'm afraid I don't understand."],['"Congratulations on bringing light into the dark-room!"'],["You strike the mirror a resounding blow, whereupon it","shatters into a myriad tiny fragments."],["You have taken the vase and hurled it delicately to the","ground."],["You prod the nearest dwarf, who wakes up grumpily, takes","one look at you, curses, and grabs for his axe."],["Is this acceptable?"],["There's no point in suspending a demonstration game.",""]],Sa={dialogue:Cp},Bp=[{word:"spelunker today",code:1016},{word:"?",code:3051},{word:"above",code:29},{word:"abra",code:3050},{word:"abracadabra",code:3050},{word:"across",code:42},{word:"ascend",code:29},{word:"attack",code:2012},{word:"awkward",code:26},{word:"axe",code:1028},{word:"back",code:8},{word:"barren",code:40},{word:"bars",code:1052},{word:"batteries",code:1039},{word:"battery",code:1039},{word:"beans",code:1024},{word:"bear",code:1035},{word:"bed",code:16},{word:"bedquilt",code:70},{word:"bird",code:1008},{word:"blast",code:2023},{word:"blowup",code:2023},{word:"bottle",code:1020},{word:"box",code:1055},{word:"break",code:2028},{word:"brief",code:2026},{word:"broken",code:54},{word:"building",code:12},{word:"cage",code:1004},{word:"calm",code:2010},{word:"canyon",code:25},{word:"capture",code:2001},{word:"carpet",code:1040},{word:"carry",code:2001},{word:"catch",code:2001},{word:"cave",code:67},{word:"cavern",code:73},{word:"chain",code:1064},{word:"chant",code:2003},{word:"chasm",code:1032},{word:"chest",code:1055},{word:"clam",code:1014},{word:"climb",code:56},{word:"close",code:2006},{word:"cobblestone",code:18},{word:"coins",code:1054},{word:"continue",code:2011},{word:"crack",code:33},{word:"crap",code:3079},{word:"crawl",code:17},{word:"cross",code:69},{word:"d",code:30},{word:"damn",code:3079},{word:"damnit",code:3079},{word:"dark",code:22},{word:"debris",code:51},{word:"depression",code:63},{word:"descend",code:30},{word:"describe",code:57},{word:"detonate",code:2023},{word:"devour",code:2014},{word:"diamonds",code:1051},{word:"dig",code:3066},{word:"discard",code:2002},{word:"disturb",code:2029},{word:"dome",code:35},{word:"door",code:1009},{word:"down",code:30},{word:"downstream",code:5},{word:"downward",code:30},{word:"dragon",code:1031},{word:"drawing",code:1029},{word:"drink",code:2015},{word:"drop",code:2002},{word:"dump",code:2002},{word:"dwarf",code:1017},{word:"dwarves",code:1017},{word:"e",code:43},{word:"east",code:43},{word:"eat",code:2014},{word:"egg",code:1056},{word:"eggs",code:1056},{word:"emerald",code:1059},{word:"enter",code:3},{word:"entrance",code:64},{word:"examine",code:57},{word:"excavate",code:3066},{word:"exit",code:11},{word:"explore",code:2011},{word:"extinguish",code:2008},{word:"fee",code:2025},{word:"fee",code:3001},{word:"feed",code:2021},{word:"fie",code:2025},{word:"fie",code:3002},{word:"fight",code:2012},{word:"figure",code:1027},{word:"fill",code:2022},{word:"find",code:2019},{word:"fissure",code:1012},{word:"floor",code:58},{word:"foe",code:2025},{word:"foe",code:3003},{word:"follow",code:2011},{word:"foo",code:2025},{word:"foo",code:3004},{word:"food",code:1019},{word:"forest",code:6},{word:"fork",code:77},{word:"forward",code:7},{word:"free",code:2002},{word:"fuck",code:3079},{word:"fum",code:2025},{word:"fum",code:3005},{word:"get",code:2001},{word:"geyser",code:1037},{word:"giant",code:27},{word:"go",code:2011},{word:"gold",code:1050},{word:"goto",code:2011},{word:"grate",code:1003},{word:"gully",code:13},{word:"h2o",code:1021},{word:"hall",code:38},{word:"headlamp",code:1002},{word:"help",code:3051},{word:"hill",code:2},{word:"hit",code:2012},{word:"hocus",code:3050},{word:"hole",code:52},{word:"hours",code:2031},{word:"house",code:12},{word:"ignite",code:2023},{word:"in",code:19},{word:"info",code:3142},{word:"information",code:3142},{word:"inside",code:19},{word:"inventory",code:2020},{word:"inward",code:19},{word:"issue",code:1016},{word:"jar",code:1020},{word:"jewel",code:1053},{word:"jewelry",code:1053},{word:"jewels",code:1053},{word:"jump",code:39},{word:"keep",code:2001},{word:"key",code:1001},{word:"keys",code:1001},{word:"kill",code:2012},{word:"knife",code:1018},{word:"knives",code:1018},{word:"lamp",code:1002},{word:"lantern",code:1002},{word:"leave",code:11},{word:"left",code:36},{word:"light",code:2007},{word:"lock",code:2006},{word:"log",code:2032},{word:"look",code:57},{word:"lost",code:3068},{word:"low",code:24},{word:"machine",code:1038},{word:"magazine",code:1016},{word:"main",code:76},{word:"message",code:1036},{word:"ming",code:1058},{word:"mirror",code:1023},{word:"mist",code:3069},{word:"moss",code:1040},{word:"mumble",code:2003},{word:"n",code:45},{word:"ne",code:47},{word:"nest",code:1056},{word:"north",code:45},{word:"nothing",code:2005},{word:"nowhere",code:21},{word:"nugget",code:1050},{word:"null",code:21},{word:"nw",code:50},{word:"off",code:2008},{word:"office",code:76},{word:"oil",code:1022},{word:"on",code:2007},{word:"onward",code:7},{word:"open",code:2004},{word:"opensesame",code:3050},{word:"oriental",code:72},{word:"out",code:11},{word:"outdoors",code:32},{word:"outside",code:11},{word:"over",code:41},{word:"oyster",code:1015},{word:"passage",code:23},{word:"pause",code:2030},{word:"pearl",code:1061},{word:"persian",code:1062},{word:"peruse",code:2027},{word:"pillow",code:1010},{word:"pirate",code:1030},{word:"pit",code:31},{word:"placate",code:2010},{word:"plant",code:1024},{word:"plant",code:1025},{word:"platinum",code:1060},{word:"plover",code:71},{word:"plugh",code:65},{word:"pocus",code:3050},{word:"pottery",code:1058},{word:"pour",code:2013},{word:"proceed",code:2011},{word:"pyramid",code:1060},{word:"quit",code:2018},{word:"rations",code:1019},{word:"read",code:2027},{word:"release",code:2002},{word:"reservoir",code:75},{word:"retreat",code:8},{word:"return",code:8},{word:"right",code:37},{word:"road",code:2},{word:"rock",code:15},{word:"rod",code:1005},{word:"rod",code:1006},{word:"room",code:59},{word:"rub",code:2016},{word:"rug",code:1062},{word:"run",code:2011},{word:"s",code:46},{word:"save",code:2030},{word:"say",code:2003},{word:"score",code:2024},{word:"se",code:48},{word:"secret",code:66},{word:"sesame",code:3050},{word:"shadow",code:1027},{word:"shake",code:2009},{word:"shard",code:1058},{word:"shatter",code:2028},{word:"shazam",code:3050},{word:"shell",code:74},{word:"shit",code:3079},{word:"silver",code:1052},{word:"sing",code:2003},{word:"slab",code:61},{word:"slit",code:60},{word:"smash",code:2028},{word:"snake",code:1011},{word:"south",code:46},{word:"spelunker",code:1016},{word:"spice",code:1063},{word:"spices",code:1063},{word:"stairs",code:10},{word:"stalactite",code:1026},{word:"steal",code:2001},{word:"steps",code:1007},{word:"steps",code:34},{word:"stop",code:3139},{word:"stream",code:14},{word:"strike",code:2012},{word:"surface",code:20},{word:"suspend",code:2030},{word:"sw",code:49},{word:"swim",code:3147},{word:"swing",code:2009},{word:"tablet",code:1013},{word:"take",code:2001},{word:"tame",code:2010},{word:"throw",code:2017},{word:"toss",code:2017},{word:"tote",code:2001},{word:"touch",code:57},{word:"travel",code:2011},{word:"treasure",code:1055},{word:"tree",code:3064},{word:"trees",code:3064},{word:"trident",code:1057},{word:"troll",code:1033},{word:"troll",code:1034},{word:"tunnel",code:23},{word:"turn",code:2011},{word:"u",code:29},{word:"unlock",code:2004},{word:"up",code:29},{word:"upstream",code:4},{word:"upward",code:29},{word:"utter",code:2003},{word:"valley",code:9},{word:"vase",code:1058},{word:"velvet",code:1010},{word:"vending",code:1038},{word:"view",code:28},{word:"volcano",code:1037},{word:"w",code:44},{word:"wake",code:2029},{word:"walk",code:2011},{word:"wall",code:53},{word:"water",code:1021},{word:"wave",code:2009},{word:"west",code:44},{word:"xyzzy",code:62},{word:"y2",code:55}],Mp={vocab:Bp};var Pt={},Ra;function Pp(){if(Ra)return Pt;Ra=1;const n=kn,p=An,o=100;return Pt._doMove=function(){switch(this.motion){case n.verb.NULLX:break;case n.verb.BACK:this._goBack();break;case n.verb.LOOK:this.detail++<3&&this._rspeak(15),this.wzdark=0,this.visited[this.loc]=0,this.newloc=this.loc,this.loc=0;break;case n.verb.CAVE:this._rspeak(this.loc<8?57:58);break;default:this.oldloc2=this.oldloc,this.oldloc=this.loc,this._doTravel()}},Pt._goBack=function(){var m=p.forced(this,this.oldloc)?this.oldloc2:this.oldloc;this.oldloc2=this.oldloc,this.oldloc=this.loc;var f=-1;if(m===this.loc){this._rspeak(91);return}for(var T=p.travels(this.loc),E=0;E<T.length;E++){var F=T[E];if(!F.tcond&&F.tdest===m){this.motion=F.tverb,this._doTravel();return}if(!F.tcond){var z=p.travels(F.tdest);p.forced(this,F.tdest)&&z[0].tdest===m&&(f=E)}}f!==-1?(this.motion=T[f].tverb,this._doTravel()):this._rspeak(140)},Pt._doTravel=function(){var m=0,f=0;this.newloc=this.loc;for(var T=p.randint(100),E,F=p.travels(this.loc),z=0;z<F.length&&!m;z++){E=F[z];var X=Math.floor(E.tcond/100),V=E.tcond%100;if(!(E.tverb!==1&&E.tverb!==this.motion&&!f))switch(f++,X){case 0:(E.tcond===0||T<E.tcond)&&m++;break;case 1:(V===0||p.toting(this,V))&&m++;break;case 2:(p.toting(this,V)||p.at(this,V))&&m++;break;case 3:case 4:case 5:case 7:this.prop[V]!==X-3&&m++;break;default:return this._bug(37)}}m?E.tdest>500?this._rspeak(E.tdest-500):E.tdest>300?this._specialMove(E.tdest):this.newloc=E.tdest:this._badMove()},Pt._badMove=function(){var m=12;this.motion>=43&&this.motion<=50&&(m=9),(this.motion===29||this.motion===30)&&(m=9),(this.motion===7||this.motion===36||this.motion===37)&&(m=10),(this.motion===11||this.motion===19)&&(m=11),this.verb===n.averb.FIND&&(m=59),this.verb===n.averb.INVENTORY&&(m=59),(this.motion===62||this.motion===65)&&(m=42),this.motion===17&&(m=80),this._rspeak(m)},Pt._specialMove=function(m){switch(m-300){case 1:var f=this.holding;!f||f===1&&p.toting(this,n.obj.EMERALD)?this.newloc=199-this.loc:this._rspeak(117);break;case 2:p.drop(this,n.obj.EMERALD,this.loc),this._pspeak(n.obj.EMERALD,0),this.forcePlugh=!0;break;case 3:if(this.prop[n.obj.TROLL]===1)this._pspeak(n.obj.TROLL,1),this.prop[n.obj.TROLL]=0,p.move(this,n.obj.TROLL2,0),p.move(this,n.obj.TROLL2+o,0),p.move(this,n.obj.TROLL,117),p.move(this,n.obj.TROLL+o,122),this.newloc=this.loc;else return this.newloc=this.loc===117?122:117,this.prop[n.obj.TROLL]===0&&this.prop[n.obj.TROLL]++,p.toting(this,n.obj.BEAR)?(this._rspeak(162),this.prop[n.obj.CHASM]=1,this.prop[n.obj.TROLL]=2,p.drop(this,n.obj.BEAR,this.newloc),this.fixed[n.obj.BEAR]=-1,this.prop[n.obj.BEAR]=3,this.prop[n.obj.SPICES]<0&&this.tally2++,this.oldloc2=this.newloc,this._death()):void 0;break;default:return this._bug(38)}},Pt}var U={};const Wp=[0,24,29,0,33,0,33,38,38,42,14,43,110,29,110,73,75,29,13,59,59,174,109,67,13,147,155,195,146,110,13,13,13],Fp={actionMessages:Wp};var Ea;function Gp(){if(Ea)return U;Ea=1;const n=kn,p=Fp,o=An,m=100;return U._transitiveVerb=function(){switch(this.verb){case n.averb.CALM:case n.averb.WALK:case n.averb.QUIT:case n.averb.SCORE:case n.averb.FOO:case n.averb.BRIEF:case n.averb.SUSPEND:case n.averb.HOURS:case n.averb.LOG:this._actionSpeak();break;case n.averb.TAKE:this._verbTake();break;case n.averb.DROP:this._verbDrop();break;case n.averb.OPEN:case n.averb.LOCK:this._verbOpen();break;case n.averb.SAY:this._verbSay();break;case n.averb.NOTHING:this._rspeak(54);break;case n.averb.ON:this._verbOn();break;case n.averb.OFF:this._verbOff();break;case n.averb.WAVE:this._verbWave();break;case n.averb.KILL:this._verbKill();break;case n.averb.POUR:this._verbPour();break;case n.averb.EAT:this._verbEat();break;case n.averb.DRINK:this._verbDrink();break;case n.averb.RUB:this._verbRub();break;case n.averb.THROW:this._verbThrow();break;case n.averb.FEED:this._verbFeed();break;case n.averb.FIND:case n.averb.INVENTORY:this._verbFind();break;case n.averb.FILL:this._verbFill();break;case n.averb.READ:this._verbRead();break;case n.averb.BLAST:this._verbBlast();break;case n.averb.BREAK:this._verbBreak();break;case n.averb.WAKE:this._verbWake();break;default:this._msg("This verb is not implemented yet.")}},U._intransitiveVerb=function(){switch(this.verb){case n.averb.DROP:case n.averb.SAY:case n.averb.WAVE:case n.averb.CALM:case n.averb.READ:case n.averb.RUB:case n.averb.THROW:case n.averb.FIND:case n.averb.FEED:case n.averb.BREAK:case n.averb.WAKE:case n.averb.FILL:this._needObject();break;case n.averb.TAKE:this._intransitiveTake();break;case n.averb.OPEN:case n.averb.LOCK:this._intransitiveOpen();break;case n.averb.NOTHING:this._rspeak(54);break;case n.averb.ON:case n.averb.OFF:case n.averb.POUR:this._transitiveVerb();break;case n.averb.WALK:this._actionSpeak();break;case n.averb.KILL:this._intransitiveKill();break;case n.averb.DRINK:this._intransitiveDrink();break;case n.averb.QUIT:this._intransitiveQuit();break;case n.averb.BLAST:this._verbBlast();break;case n.averb.SCORE:this._score();break;case n.averb.FOO:this._intransitiveFoo();break;case n.averb.INVENTORY:this._intransitiveInventory();break;default:this._msg("This intransitive verb not implemented yet")}},U._actionSpeak=function(){if(this.verb<1||this.verb>32)return this._bug(39);var f=p.actionMessages[this.verb];f&&this._rspeak(f)},U._needObject=function(){var f=this._wordVerb();this._msg(`${f||"do"} what?`)},U._intransitiveTake=function(){for(var f=0,T=1;T<m;T++)if(this.place[T]===this.loc){if(f!==0)return this._needObject();f=T}if(f===0||o.dcheck(this)&&this.dflag>=2)return this._needObject();this.object=f,this._verbTake()},U._verbTake=function(){var f=this.object,T;if(o.toting(this,f))return this._actionSpeak();if(this.fixed[f])return T=25,f===n.obj.PLANT&&this.prop[n.obj.PLANT]<=0&&(T=115),f===n.obj.BEAR&&this.prop[n.obj.BEAR]===1&&(T=169),f===n.obj.CHAIN&&this.prop[n.obj.BEAR]!==0&&(T=170),this._rspeak(T);if(f===n.obj.WATER||f===n.obj.OIL){if(!o.here(this,n.obj.BOTTLE)||o.liq(this)!==f){if(this.object=f=n.obj.BOTTLE,o.toting(this,n.obj.BOTTLE)&&this.prop[n.obj.BOTTLE]===1){this._verbFill();return}this.prop[n.obj.BOTTLE]!==1&&(T=105),o.toting(this,n.obj.BOTTLE)||(T=104),this._rspeak(T);return}this.object=f=n.obj.BOTTLE}if(this.holding>=7){this._rspeak(92);return}if(f===n.obj.BIRD&&this.prop[n.obj.BIRD]===0){if(o.toting(this,n.obj.ROD)){this._rspeak(26);return}if(!o.toting(this,n.obj.CAGE)){this._rspeak(27);return}this.prop[n.obj.BIRD]=1}(f===n.obj.BIRD||f===n.obj.CAGE)&&this.prop[n.obj.BIRD]!==0&&o.carry(this,n.obj.BIRD+n.obj.CAGE-f),o.carry(this,f);var F=o.liq(this);f===n.obj.BOTTLE&&F!==0&&(this.place[F]=-1),this._rspeak(54)},U._intransitiveInventory=function(){for(var f=98,T=1;T<m;T++)T===n.obj.BEAR||!o.toting(this,T)||(f&&this._rspeak(99),f=0,this._pspeak(T,-1));o.toting(this,n.obj.BEAR)&&(f=141),f&&this._rspeak(f)},U._intransitiveOpen=function(){if(o.here(this,n.obj.CLAM)&&(this.object=n.obj.CLAM),o.here(this,n.obj.OYSTER)&&(this.object=n.obj.OYSTER),o.at(this,n.obj.DOOR)&&(this.object=n.obj.DOOR),o.at(this,n.obj.GRATE)&&(this.object=n.obj.GRATE),o.here(this,n.obj.CHAIN)){if(this.object!==0){this._needObject();return}this.object=n.obj.CHAIN}if(this.object===0){this._rspeak(28);return}this._verbOpen()},U._verbOpen=function(){var f;const T=+(this.object===n.obj.OYSTER);switch(this.object){case n.obj.CLAM:case n.obj.OYSTER:this.verb===n.averb.LOCK?f=61:o.toting(this,n.obj.TRIDENT)?o.toting(this,this.object)?f=120+T:(f=124+T,o.destroy(this,n.obj.CLAM),o.drop(this,n.obj.OYSTER,this.loc),o.drop(this,n.obj.PEARL,105)):f=122+T;break;case n.obj.DOOR:f=this.prop[n.obj.DOOR]===1?54:111;break;case n.obj.CAGE:f=32;break;case n.obj.KEYS:f=55;break;case n.obj.CHAIN:o.here(this,n.obj.KEYS)?this.verb===n.averb.LOCK?this.prop[n.obj.CHAIN]!==0?f=34:this.loc!==130?f=173:(this.prop[n.obj.CHAIN]=2,o.toting(this,n.obj.CHAIN)&&o.drop(this,n.obj.CHAIN,this.loc),this.fixed[n.obj.CHAIN]=-1,f=172):this.prop[n.obj.BEAR]===0?f=41:this.prop[n.obj.CHAIN]===0?f=37:(this.prop[n.obj.CHAIN]=0,this.fixed[n.obj.CHAIN]=0,this.prop[n.obj.BEAR]!==3&&(this.prop[n.obj.BEAR]=2),this.fixed[n.obj.BEAR]=2-this.prop[n.obj.BEAR],f=171):f=31;break;case n.obj.GRATE:o.here(this,n.obj.KEYS)?this.closing?(this.panic||(this.clock2=15,this.panic++),f=130):(f=34+this.prop[n.obj.GRATE],this.prop[n.obj.GRATE]=this.verb===n.obj.LOCK?0:1,f+=2*this.prop[n.obj.GRATE]):f=31;break;default:f=33}this._rspeak(f)},U._intransitiveKill=function(){if(this.object1=0,o.dcheck(this)&&this.dflag>=2&&(this.object=n.obj.DWARF),o.here(this,n.obj.SNAKE)&&this._addObject(n.obj.SNAKE),o.at(this,n.obj.DRAGON)&&this.prop[n.obj.DRAGON]===0&&this._addObject(n.obj.DRAGON),o.at(this,n.obj.TROLL)&&this._addObject(n.obj.TROLL),o.here(this,n.obj.BEAR)&&this.prop[n.obj.BEAR]===0&&this._addObject(n.obj.BEAR),this.object1!==0){this._needObject();return}if(this.object!==0){this._verbKill();return}if(o.here(this,n.obj.BIRD)&&this.verb!==n.obj.THROW&&(this.object=n.obj.BIRD),(o.here(this,n.obj.CLAM)||o.here(this,n.obj.OYSTER))&&this._addObject(n.obj.CLAM),this.object1!==0){this._needObject();return}this._verbKill()},U._addObject=function(f){if(this.object1===0){if(this.object!==0){this.object1=-1;return}this.object=f}},U._verbKill=function(){var f;switch(this.object){case n.obj.BIRD:this.closed?f=137:(o.destroy(this,n.obj.BIRD),this.prop[n.obj.BIRD]=0,this.place[n.obj.SNAKE]===19&&this.tally2++,f=45);break;case 0:f=44;break;case n.obj.CLAM:case n.obj.OYSTER:f=150;break;case n.obj.SNAKE:f=46;break;case n.obj.DWARF:if(this.closed){this._dwarfDeath();return}f=49;break;case n.obj.TROLL:f=157;break;case n.obj.BEAR:f=165+Math.floor((this.prop[n.obj.BEAR]+1)/2);break;case n.obj.DRAGON:if(this.prop[n.obj.DRAGON]!==0){f=167;break}this._rspeak(49),this.state="dragon_yesno",this.stopEarly=!0;return;default:this._actionSpeak();return}this._rspeak(f)},U._intransitiveDrink=function(){const f=o.liqloc(this)!==n.obj.WATER,T=o.liq(this)!==n.obj.WATER,E=!o.here(this,n.obj.BOTTLE);f&&(T||E)?this._needObject():(this.object=n.obj.WATER,this._verbDrink())},U._verbDrink=function(){this.object!==n.obj.WATER?this._rspeak(110):o.liq(this)!==n.obj.WATER||!o.here(this,n.obj.BOTTLE)?this._actionSpeak():(this.prop[n.obj.BOTTLE]=1,this.place[n.obj.WATER]=0,this._rspeak(74))},U._verbDrop=function(){var f=!1;const T=o.toting(this,n.obj.ROD),E=o.toting(this,n.obj.ROD2),F=this.object===n.obj.ROD;if(E&&F&&!T&&(this.object=n.obj.ROD2),!o.toting(this,this.object)){this._actionSpeak();return}if(this.object===n.obj.BIRD&&o.here(this,n.obj.SNAKE)){if(this._rspeak(30),this.closed){this._dwarfDeath();return}o.destroy(this,n.obj.SNAKE),this.prop[n.obj.SNAKE]=-1,this.prop[n.obj.BIRD]=0,o.drop(this,n.obj.BIRD,this.loc);return}if(this.object===n.obj.COINS&&o.here(this,n.obj.VEND)){o.destroy(this,n.obj.COINS),o.drop(this,n.obj.BATTERIES,this.loc),this._pspeak(n.obj.BATTERIES,0);return}const z=this.object===n.obj.BIRD,X=o.at(this,n.obj.DRAGON),V=this.prop[n.obj.DRAGON];if(z&&X&&V===0){this._rspeak(154),o.destroy(this,n.obj.BIRD),this.prop[n.obj.BIRD]=0,this.place[n.obj.SNAKE]!==0&&this.tally2++;return}if(this.object===n.obj.BEAR&&o.at(this,n.obj.TROLL)){this._rspeak(163),o.move(this,n.obj.TROLL,0),o.move(this,n.obj.TROLL+m,0),o.move(this,n.obj.TROLL2,117),o.move(this,n.obj.TROLL2+m,122),this.prop[n.obj.TROLL]=2;return}if(this.object===n.obj.VASE)if(f=!0,this.loc===96)this._rspeak(54);else{var ue=!o.at(this,n.obj.PILLOW)||this.verb!==n.averb.DROP;this.prop[n.obj.VASE]=ue?2:0,this._pspeak(n.obj.VASE,this.prop[n.obj.VASE]+1),this.prop[n.obj.VASE]!==0&&(this.fixed[n.obj.VASE]=-1)}const $e=o.liq(this);$e===this.object&&(this.object=n.obj.BOTTLE),this.object===n.obj.BOTTLE&&$e!==0&&(this.place[$e]=0),this.object===n.obj.CAGE&&this.prop[n.obj.BIRD]!==0&&o.drop(this,n.obj.BIRD,this.loc),this.object===n.obj.BIRD&&(this.prop[n.obj.BIRD]=0),o.drop(this,this.object,this.loc),f||this._rspeak(54)},U._intransitiveQuit=function(){this._rspeak(22),this.state="giveup_yesno",this.stopEarly=!0},U._verbBlast=function(){if(this.prop[n.obj.ROD2]<0||!this.closed){this._actionSpeak();return}if(this.bonus=133,this.loc===115&&(this.bonus=134),o.here(this,n.obj.ROD2)&&(this.bonus=135),this._rspeak(this.bonus),this.bonus===133){this._gameOver();return}this._death()},U._intransitiveFoo=function(){var f=this._analyzeWord(this.word1,3e3),T=42;if(this.foobar!==1-f.code){this.foobar!==0&&(T=151),this._rspeak(T);return}if(this.foobar=f.code,f.code!==4)return;this.foobar=0;const E=this.place[n.obj.EGGS],F=this.place[n.obj.TROLL],z=this.prop[n.obj.TROLL],X=o.toting(this,n.obj.EGGS);if(E===92||X&&this.loc===92){this._rspeak(T);return}E===0&&F===0&&z===0&&(this.prop[n.obj.TROLL]=1);var V;o.here(this,n.obj.EGGS)?V=1:this.loc===92?V=0:V=2,o.move(this,n.obj.EGGS,92),this._pspeak(n.obj.EGGS,V)},U._verbSay=function(){var f=this.word1==="say"?this.wordRest:this.word1;this._msg(`Okay. "${f}"`)},U._verbOn=function(){o.here(this,n.obj.LAMP)?this.limit<0?this._rspeak(184):(this.prop[n.obj.LAMP]=1,this._rspeak(39),this.wzdark&&(this.wzdark=0,this._handleDescription())):this._actionSpeak()},U._verbOff=function(){o.here(this,n.obj.LAMP)?(this.prop[n.obj.LAMP]=0,this._rspeak(40)):this._actionSpeak()},U._verbWave=function(){const f=o.toting(this,this.object),T=o.toting(this,n.obj.ROD2),E=this.object!==n.obj.ROD,F=o.at(this,n.obj.FISSURE);!f&&(E||!T)?this._rspeak(29):E||!F||!f||this.closing?this._actionSpeak():(this.prop[n.obj.FISSURE]=1-this.prop[n.obj.FISSURE],this._pspeak(n.obj.FISSURE,2-this.prop[n.obj.FISSURE]))},U._verbPour=function(){if((this.object===n.obj.BOTTLE||this.object===0)&&(this.object=o.liq(this)),this.object===0){this._needObject();return}if(!o.toting(this,this.object)){this._actionSpeak();return}if(this.object!==n.obj.OIL&&this.object!==n.obj.WATER){this._rspeak(78);return}this.prop[n.obj.BOTTLE]=1,this.place[this.object]=0,o.at(this,n.obj.PLANT)?this.object!==n.obj.WATER?this._rspeak(112):(this._pspeak(n.obj.PLANT,this.prop[n.obj.PLANT]+1),this.prop[n.obj.PLANT]=(this.prop[n.obj.PLANT]+2)%6,this.prop[n.obj.PLANT2]=Math.floor(this.prop[n.obj.PLANT]/2),this._handleDescription()):o.at(this,n.obj.DOOR)?(this.prop[n.obj.DOOR]=this.object===n.obj.OIL?1:0,this._rspeak(113+this.prop[n.obj.DOOR])):this._rspeak(77)},U._verbEat=function(){var f;switch(this.object){case n.obj.FOOD:o.destroy(this,n.obj.FOOD),f=72;break;case n.obj.BIRD:case n.obj.SNAKE:case n.obj.CLAM:case n.obj.OYSTER:case n.obj.DWARF:case n.obj.DRAGON:case n.obj.TROLL:case n.obj.BEAR:f=71;break;default:this._actionSpeak();return}this._rspeak(f)},U._verbRub=function(){this.object!==n.obj.LAMP?this._rspeak(76):this._actionSpeak()},U._verbThrow=function(){const f=o.toting(this,n.obj.ROD),T=o.toting(this,n.obj.ROD2),E=this.object===n.obj.ROD;if(T&&E&&!f&&(this.object=n.obj.ROD2),!o.toting(this,this.object)){this._actionSpeak();return}const F=this.object>=50&&this.object<m;if(o.at(this,n.obj.TROLL)&&F){this._rspeak(159),o.drop(this,this.object,0),o.move(this,n.obj.TROLL,0),o.move(this,n.obj.TROLL+m,0),o.drop(this,n.obj.TROLL2,117),o.drop(this,n.obj.TROLL2+m,122);return}if(this.object===n.obj.FOOD&&o.here(this,n.obj.BEAR)){this.object=n.obj.BEAR,this._verbFeed();return}if(this.object!==n.obj.AXE){this._verbDrop();return}const z=o.dcheck(this);var X;if(z)X=48,o.pct(50)&&(this.dseen[z]=this.dloc[z]=0,X=47,this.dkill++,this.dkill===1&&(X=149));else if(o.at(this,n.obj.DRAGON)&&this.prop[n.obj.DRAGON]===0)X=152;else if(o.at(this,n.obj.TROLL))X=158;else if(o.here(this,n.obj.BEAR)&&this.prop[n.obj.BEAR]===0){this._rspeak(164),o.drop(this,n.obj.AXE,this.loc),this.fixed[n.obj.AXE]=-1,this.prop[n.obj.AXE]=1;return}else{this.verb=n.averb.KILL,this.object=0,this._intransitiveVerb();return}this._rspeak(X),o.drop(this,n.obj.AXE,this.loc),this._handleDescription()},U._verbFeed=function(){var f;switch(this.object){case n.obj.BIRD:f=100;break;case n.obj.DWARF:if(!o.here(this,n.obj.FOOD)){this._actionSpeak();return}this.dflag++,f=103;break;case n.obj.BEAR:if(!o.here(this,n.obj.FOOD)){if(this.prop[n.obj.BEAR]===0)f=102;else if(this.prop[n.obj.BEAR]===3)f=110;else{this._actionSpeak();return}break}o.destroy(this,n.obj.FOOD),this.prop[n.obj.BEAR]=1,this.fixed[n.obj.AXE]=0,this.prop[n.obj.AXE]=0,f=168;break;case n.obj.DRAGON:f=this.prop[n.obj.DRAGON]!==0?110:102;break;case n.obj.TROLL:f=182;break;case n.obj.SNAKE:if(this.closed||!o.here(this,n.obj.BIRD)){f=102;break}f=101,o.destroy(this,n.obj.BIRD),this.prop[n.obj.BIRD]=0,this.tally2++;break;default:f=14}this._rspeak(f)},U._verbFind=function(){if(o.toting(this,this.object)){this._rspeak(24);return}if(this.closed){this._rspeak(138);return}if(o.dcheck(this)&&this.dflag>=2&&this.object===n.obj.DWARF){this._rspeak(94);return}const f=o.at(this,this.object),T=o.liq(this)===this.object,E=o.here(this,n.obj.BOTTLE),F=this.object===o.liqloc(this);if(f||F||T&&E){this._rspeak(94);return}this._actionSpeak()},U._verbFill=function(){var f,T;switch(this.object){case n.obj.BOTTLE:o.liq(this)!==0?T=105:o.liqloc(this)===0?T=106:(this.prop[n.obj.BOTTLE]=this.cond[this.loc]&n.status.WATOIL,f=o.liq(this),o.toting(this,n.obj.BOTTLE)&&(this.place[f]=-1),T=f===n.obj.OIL?108:107);break;case n.obj.VASE:if(o.liqloc(this)===0){T=144;break}if(!o.toting(this,n.obj.VASE)){T=29;break}this._rspeak(145),this._verbDrop();return;default:T=29}this._rspeak(T)},U._verbRead=function(){if(o.dark(this)){var f=this._wordNoun(),T=f?`no ${f}`:"nothing like that";this._msg(`I see no ${T} here.`);return}var E=0;switch(this.object){case n.obj.MAGAZINE:E=190;break;case n.obj.TABLET:E=196;break;case n.obj.MESSAGE:E=191;break;case n.obj.OYSTER:if(!o.toting(this,n.obj.OYSTER)||!this.closed)break;this._rspeak(192),this.state="read_oyster_yesno",this.stopEarly=!0;return}E?this._rspeak(E):this._actionSpeak()},U._verbBreak=function(){var f;if(this.object===n.obj.MIRROR){if(f=148,this.closed){this._rspeak(197),this._dwarfDeath();return}}else if(this.object===n.obj.VASE&&this.prop[n.obj.VASE]===0)f=198,o.toting(this,n.obj.VASE)&&o.drop(this,n.obj.VASE,this.loc),this.prop[n.obj.VASE]=2,this.fixed[n.obj.VASE]=-1;else{this._actionSpeak();return}this._rspeak(f)},U._verbWake=function(){if(this.object!==n.obj.DWARF||!this.closed){this._actionSpeak();return}this._rspeak(199),this._dwarfDeath()},U}const Ot=Rp,A=An,y=kn,Wt=Ot.assign({},xp,Ia,La,Sa,ja,Mp),Me=100,Up=145,Or=7,Ya=3,Hi=79;Oa.makeState=zp;function zp(n){return new C(n||{})}function C(n){Ot(this).assign(n).defaults({__v:0,state:"init",done:!1,stopEarly:!1,loopAgain:!1,bug:null,lines:[],word1:null,word2:null,wordRest:null,forcePlugh:!1,verb:0,object:0,motion:0,turns:0,loc:2,oldloc:2,oldloc2:2,newloc:1,cond:[0,5,1,5,5,1,1,5,17,1,1,0,0,32,0,0,2,0,0,64,2,2,2,0,6,0,2,0,0,0,0,2,2,0,0,0,0,0,4,0,2,0,128,128,128,128,136,136,136,128,128,128,128,128,136,128,136,0,8,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,128,136,136,0,0,8,136,128,0,2,2,0,0,0,0,4,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,4,0,1,1,0,0,0,0,0,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3],place:[0,3,3,8,10,11,0,14,13,94,96,19,17,101,103,0,106,0,0,3,3,0,0,109,25,23,111,35,0,97,0,119,117,117,0,130,0,126,140,0,96,0,0,0,0,0,0,0,0,0,18,27,28,29,30,0,92,95,97,100,101,0,119,127,130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fixed:[0,0,0,9,0,0,0,15,0,-1,0,-1,27,-1,0,0,0,-1,0,0,0,0,0,-1,-1,67,-1,110,0,-1,-1,121,122,122,0,-1,-1,-1,-1,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,121,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],visited:new Array(Up+1).fill(0),prop:new Array(Me/2).fill(0).concat(new Array(Me/2).fill(-1)),tally:15,tally2:0,limit:330,lmwarn:0,wzdark:0,closing:0,closed:0,holding:0,detail:0,knfloc:0,clock:30,clock2:50,panic:0,dloc:[0,19,27,33,44,64,114],dflag:0,dseen:[0,0,0,0,0,0,0],odloc:[0,0,0,0,0,0,0],daltloc:18,dkill:0,chloc:114,chloc2:140,bonus:0,numdie:0,object1:0,gaveup:0,foobar:0,saveflg:0,dbugflg:0}).value(),Object.seal(this)}Ot.assign(C.prototype,Pp());Ot.assign(C.prototype,Gp());C.prototype.advance=function(p){if(p=String(p||""),this.lines=[],this.done)return this.lines;this.stopEarly=!1;var o="_state_"+this.state;return Ot.isFunction(this[o])?this[o](p):this._bug("Invalid state encountered: "+this.state),this.lines};C.prototype.isDone=function(){return!!this.done};C.prototype.locationString=function(){var n=Wt.shortDescriptions[this.loc]||[];return n.join(" ").trim()};C.prototype._state_init=function(){this.state="init_yesno",this._rspeak(65)};C.prototype._state_init_yesno=function(n){var p=this._parseYesNo(n);p&&(p==="y"&&this._rspeak(1),this.state="playing",this._gameTick())};C.prototype._state_playing=function(n){this._handleInputs(n)&&(this.done||this._gameTick())};C.prototype._state_death_query=function(n){var p=this._parseYesNo(n);if(p){if(p==="n")return this._rspeak(54),this.gaveup=1,this._gameOver();if(this._rspeak(82+this.numdie*2),++this.numdie>=Ya)return this._gameOver();this.place[y.obj.WATER]=0,this.place[y.obj.OIL]=0,A.toting(this,y.obj.LAMP)&&(this.prop[y.obj.LAMP]=0);for(var o=1;o<Me;o++){var m=Me-o;if(A.toting(this,m)){var f=m===y.obj.LAMP?1:this.oldloc2;A.drop(this,m,f)}}this.state="playing",this.newloc=3,this.oldloc=this.loc,this._gameTick()}};C.prototype._state_dragon_yesno=function(n){var p=this._parseYesNo(n);if(p){if(this.state="playing",p==="y"){this._pspeak(y.obj.DRAGON,1),this.prop[y.obj.DRAGON]=2,this.prop[y.obj.RUG]=0,A.move(this,y.obj.DRAGON+Me,-1),A.move(this,y.obj.RUG+Me,0),A.move(this,y.obj.DRAGON,120),A.move(this,y.obj.RUG,120);for(var o=1;o<Me;o++)(this.place[o]===119||this.place[o]===121)&&A.move(this,o,120);this.newloc=120}else this._rspeak(54);this._gameTick()}};C.prototype._state_giveup_yesno=function(n){var p=this._parseYesNo(n);if(p){if(this._rspeak(54),p==="n"){this.state="playing",this._gameTick();return}this.gaveup=!0,this._gameOver()}};C.prototype._state_read_oyster_yesno=function(n){var p=this._parseYesNo(n);p&&(this._rspeak(p==="y"?193:54),this.state="playing",this._gameTick())};C.prototype._gameTick=function(){do{if(this.done||this.stopEarly)return;this.loopAgain=!1,this._handleClosingLogic(),this._handleDwarves(),this._handleMovement(),this._handleTimers()}while(this.loopAgain)};C.prototype._inTwistyMaze=function(){return this.loc>=42&&this.loc<=58||this.loc>=80&&this.loc<=87};C.prototype._handleClosingLogic=function(){this.newloc<9&&this.newloc!==0&&this.closing&&(this._rspeak(130),this.newloc=this.loc,this.panic||(this.clock2=15),this.panic=1)};C.prototype._handleInputs=function(n){return!(!this._parseEnglish(n)||(this.motion?this._doMove():this.object?this._doObject():this._intransitiveVerb(),this.stopEarly))};C.prototype._doObject=function(){var n=this.object,p=this.loc;if(this.fixed[n]===this.loc||A.here(this,n)){this._transitiveObject();return}if(n===y.obj.GRATE){p===1||p===4||p===7?(this.motion=y.verb.DEPRESSION,this._doMove()):p>9&&p<15&&(this.motion=y.verb.ENTRANCE,this._doMove());return}if(A.dcheck(this)&&this.dflag>=2){this.object=y.obj.DWARF,this._transitiveObject();return}const o=A.liq(this)===n,m=A.here(this,y.obj.BOTTLE),f=A.liqloc(this)===n;if(o&&m||f){this._transitiveObject();return}const T=n===y.obj.PLANT,E=A.at(this,y.obj.PLANT2),F=this.prop[y.obj.PLANT2]===0;if(T&&E&&F){this.object=y.obj.PLANT2,this._transitiveObject();return}if(n===y.obj.KNIFE&&this.knfloc===p){this._rspeak(116),this.knfloc=-1;return}if(n===y.obj.ROD&&A.here(this,y.obj.ROD2)){this.object=y.obj.ROD2,this._transitiveObject();return}if(this.verb===y.averb.SAY){this._transitiveObject();return}var z=this._wordNoun(),X=z?`no ${z}`:"nothing like that";this._msg(`I see ${X} here.`)};C.prototype._wordNoun=function(){var n=this.word1,p=this.word2;return n&&this._analyzeWord(n).type===1?n:p&&this._analyzeWord(p).type===1?p:null};C.prototype._wordVerb=function(){var n=this.word1,p=this.word2;return n&&this._analyzeWord(n).type===2?n:p&&this._analyzeWord(p).type===2?p:null};C.prototype._transitiveObject=function(){if(this.verb)this._transitiveVerb();else{var n=this._wordNoun(),p=n?`the ${n}`:"that";this._msg(`What do you want to do with ${p}?`)}};C.prototype._handleDwarves=function(){var n,p;const o=this.newloc!==this.loc,m=A.forced(this,this.loc),f=!A.locFlag(this,"NOPIRAT");if(o&&!m&&f){for(n=0;n<Or-1;n++)if(this.odloc[n]===this.newloc&&this.dseen[n]){this.newloc=this.loc,this._rspeak(2);break}}const T=A.forced(this,this.newloc),E=A.roomFlag(this,this.newloc,"NOPIRAT");if(!(this.newloc===0||T||E)){if(!this.dflag){this.newloc>=15&&this.dflag++;return}if(this.dflag===1){if(this.newloc<15||A.pct(95))return;for(this.dflag++,n=1;n<3;n++)A.pct(50)&&(this.dloc[A.randint(5)+1]=0);for(n=1;n<Or-1;n++)this.dloc[n]===this.newloc&&(this.dloc[n]=this.daltloc),this.odloc[n]=this.dloc[n];this._rspeak(3),A.drop(this,y.obj.AXE,this.newloc);return}var F=0,z=0,X=0,V;for(n=1;n<Or;n++)if(this.dloc[n]!==0){for(V=1;V<20;++V){p=A.randint(107)+15;var ue=p!==this.odloc[n],$e=p!==this.dloc[n],Pe=n===Or-1,je=A.roomFlag(this,p,"NOPIRAT");if(ue&&$e&&!(Pe&&je))break}V===20&&(p=this.odloc[n]),this.odloc[n]=this.dloc[n],this.dloc[n]=p;var dt=this.dseen[n]&&this.newloc>=15,fe=this.dloc[n]===this.newloc,We=this.odloc[n]===this.newloc;this.dseen[n]=Number(dt||fe||We),this.dseen[n]&&(this.dloc[n]=this.newloc,n===6?this._pirateLogic():(F++,this.odloc[n]===this.dloc[n]&&(z++,this.knfloc>=0&&(this.knfloc=this.newloc),A.randint(1e3)<95*(this.dflag-2)&&X++)))}if(F!==0&&(F>1?(this._msg(`There are ${F} threatening little dwarves in the room with you!`),this._msg("")):this._rspeak(4),z!==0)){this.dflag===2&&this.dflag++;var Xe;if(z>1?(this._msg(`${z} of them throw knives at you!!`),this._msg(""),Xe=6):(this._rspeak(5),Xe=52),X<=1){if(this._rspeak(X+Xe),X===0)return}else this._msg(`${X} of them get you !!!`),this._msg("");this.oldloc2=this.newloc,this._death()}}};C.prototype._pirateLogic=function(){var n=0;if(this.newloc===this.chloc||this.prop[y.obj.CHEST]>=0)return;for(var p=50;p<=Hi;p++){var o=p!==y.obj.PYRAMID,m=this.newloc!==this.place[y.obj.PYRAMID],f=this.newloc!==this.place[y.obj.EMERALD];if(o||m&&f){if(A.toting(this,p))return this._pirateStole();A.here(this,p)&&n++}}const T=this.tally===this.tally2+1,E=this.place[y.obj.CHEST]===0,F=A.here(this,y.obj.LAMP),z=this.prop[y.obj.LAMP]===1;if(T&&n===0&&E&&F&&z){this._rspeak(186),A.move(this,y.obj.CHEST,this.chloc),A.move(this,y.obj.MESSAGE,this.chloc2),this.dloc[6]=this.chloc,this.odloc[6]=this.chloc,this.dseen[6]=0;return}this.odloc[6]!==this.dloc[6]&&A.pct(20)&&this._rspeak(127)};C.prototype._pirateStole=function(){this._rspeak(128),this.place[y.obj.MESSAGE]===0&&A.move(this,y.obj.CHEST,this.chloc),A.move(this,y.obj.MESSAGE,this.chloc2);for(var n=50;n<=Hi;n++){var p=n===y.obj.PYRAMID,o=this.newloc===this.place[y.obj.PYRAMID],m=this.newloc===this.place[y.obj.EMERALD];p&&(o||m)||(A.at(this,n)&&this.fixed[n]===0&&A.carry(this,n),A.toting(this,n)&&A.drop(this,n,this.chloc))}this.dloc[6]=this.chloc,this.odloc[6]=this.chloc,this.dseen[6]=0};C.prototype._handleMovement=function(){if(this.loc!==this.newloc){if(this.turns++,this.loc=this.newloc,this.loc===0)return this._death();if(A.forced(this,this.loc)){this._handleDescription(),this._doMove(),this.loopAgain=!0;return}if(this.wzdark&&A.dark(this)&&A.pct(35))return this._rspeak(23),this.oldloc2=this.loc,this._death();this._handleDescription()}};C.prototype._handleDescription=function(){var n;A.toting(this,y.obj.BEAR)&&this._rspeak(141);const p=A.dark(this);if(p?this._rspeak(16):this.visited[this.loc]?n=Wt.shortDescriptions[this.loc]||[]:n=Wt.longDescriptions[this.loc]||[],n&&(n.forEach(E=>this._msg(E)),this._msg("")),this.loc===33&&(A.pct(25)||this.forcePlugh)&&!this.closing&&(this.forcePlugh=!1,this._rspeak(8)),!p){this.visited[this.loc]++;for(var o=1;o<Me;o++)if(A.at(this,o)){if(o===y.obj.STEPS&&A.toting(this,y.obj.NUGGET))continue;if(this.prop[o]<0){if(this.closed)continue;this.prop[o]=0,(o===y.obj.RUG||o===y.obj.CHAIN)&&this.prop[o]++,this.tally--}var m=o===y.obj.STEPS,f=this.loc===this.fixed[y.obj.STEPS],T=m&&f?1:this.prop[o];this._pspeak(o,T)}this.tally===this.tally2&&this.tally!==0&&this.limit>35&&(this.limit=35),this._inTwistyMaze()&&this._dumpPaths()}};C.prototype._dumpPaths=function(){var n=A.paths(this.loc),p=n[0].length+n[1].length;if(p){var o=p===1?"There is a path":"There are paths";if(n[0].length===1?o+=" "+n[0][0]:n[0].length===2&&(o+=" both "+n[0].join(" and ")),n[1].length)if(n[0].length&&(o+=", and"),o+=" to the",n[1].length===1)o+=" "+n[1][0];else{var m=n[1].length;n[1][m-1]="and "+n[1][m-1],o+=" "+n[1].join(", ")}this._msg(o+"."),this._msg("")}};C.prototype._handleTimers=function(){if(!(this.done||this.stopEarly||this.loopAgain)){if(this.closed){this.prop[y.obj.OYSTER]<0&&A.toting(this,y.obj.OYSTER)&&this._pspeak(y.obj.OYSTER,1);for(var n=1;n<Me;n++)A.toting(this,n)&&this.prop[n]<0&&(this.prop[n]=-1-this.prop[n])}this.wzdark=A.dark(this),this.knfloc>0&&this.knfloc!==this.loc&&(this.knfloc=0),this._timer()&&(this.loopAgain=!0)}};C.prototype._timer=function(){var n;if(this.foobar=this.foobar>0?-this.foobar:0,this.tally===0&&this.loc>=15&&this.loc!==33&&this.clock--,this.clock<0&&this.clock2--,this.clock===0){for(this.prop[y.obj.GRATE]=0,this.prop[y.obj.FISSURE]=0,n=1;n<Or;n++)this.dseen[n]=0;return A.move(this,this.TROLL,0),A.move(this,this.TROLL+Me,0),A.move(this,this.TROLL2,117),A.move(this,this.TROLL2+Me,122),this.prop[y.obj.BEAR]!==3&&A.destroy(this,y.obj.BEAR),this.prop[y.obj.CHAIN]=0,this.fixed[y.obj.CHAIN]=0,this.prop[y.obj.AXE]=0,this.fixed[y.obj.AXE]=0,this._rspeak(129),this.clock=-1,this.closing=1,!1}if(this.clock2===0){for(this.prop[y.obj.BOTTLE]=A.put(this,y.obj.BOTTLE,115,1),this.prop[y.obj.PLANT]=A.put(this,y.obj.PLANT,115,0),this.prop[y.obj.OYSTER]=A.put(this,y.obj.OYSTER,115,0),this.prop[y.obj.LAMP]=A.put(this,y.obj.LAMP,115,0),this.prop[y.obj.ROD]=A.put(this,y.obj.ROD,115,0),this.prop[y.obj.DWARF]=A.put(this,y.obj.DWARF,115,0),this.loc=115,this.oldloc=115,this.newloc=115,A.put(this,y.obj.GRATE,116,0),this.prop[y.obj.SNAKE]=A.put(this,y.obj.SNAKE,116,1),this.prop[y.obj.BIRD]=A.put(this,y.obj.BIRD,116,1),this.prop[y.obj.CAGE]=A.put(this,y.obj.CAGE,116,0),this.prop[y.obj.ROD2]=A.put(this,y.obj.ROD2,116,0),this.prop[y.obj.PILLOW]=A.put(this,y.obj.PILLOW,116,0),this.prop[y.obj.MIRROR]=A.put(this,y.obj.MIRROR,115,0),this.fixed[y.obj.MIRROR]=116,n=1;n<Me;n++)A.toting(this,n)&&A.destroy(this,n);return this._rspeak(132),this.closed=1,this._handleDescription(),!0}this.prop[y.obj.LAMP]===1&&this.limit--;const p=this.limit<=30,o=A.here(this,y.obj.BATTERIES),m=this.prop[y.obj.BATTERIES]===0,f=A.here(this,y.obj.LAMP);return p&&o&&m&&f?(this._rspeak(188),this.prop[y.obj.BATTERIES]=1,A.toting(this,y.obj.BATTERIES)&&A.drop(this,y.obj.BATTERIES,this.loc),this.limit+=2500,this.lmwarn=0,!1):this.limit===0?(this.limit--,this.prop[y.obj.LAMP]=0,A.here(this,y.obj.LAMP)&&this._rspeak(184),!1):this.limit<0&&this.loc<=8?(this._rspeak(185),this.gaveup=1,this._gameOver(),!1):(this.limit<=30&&(this.lmwarn||!A.here(this,y.obj.LAMP)||(this.lmwarn=1,n=187,this.place[y.obj.BATTERIES]===0&&(n=183),this.prop[y.obj.BATTERIES]===1&&(n=189),this._rspeak(n))),!1)};const qp=/^(y|yes|yeah|yarp|ya|yep|sure|ok|affirmative)$/i,Hp=/^(n|no|nope|nah|narp)$/i;C.prototype._parseYesNo=function(n){return n=String(n).trim(),qp.test(n)?"y":Hp.test(n)?"n":(this._msg("Please say either 'yes' or 'no'"),null)};C.prototype._parseEnglish=function(n){const p="bad grammar...";this.word1=this.word2=null,this.verb=this.object=this.motion=0;var o=n.trim().toLowerCase().split(/\s+/,2),m=this._analyzeWord(o[0]);if(!m)return!1;if(this.word1=o[0],m.type===2&&m.val===y.averb.SAY)return this.verb=y.averb.SAY,this.object=1,this.wordRest=n.trim().replace(/^say\s+/i,""),!0;var f={type:-1,val:-1};if(o[1]&&(f=this._analyzeWord(o[1]),!f))return!1;if(this.word2=o[1],m.word==="enter"&&f.type===0&&(m=f,f={type:-1,val:-1}),m.type===3&&f.type===3&&m.val===51&&f.val===51)return this._outWords(),0;if(m.type===3)return this._rspeak(m.val),0;if(f.type===3)return this._rspeak(f.val),0;if(m.type===0){if(f.type===0)return this._msg(p),0;this.motion=m.val}else if(f.type===0)this.motion=f.val;else if(m.type===1){if(this.object=m.val,f.type===2&&(this.verb=f.val),f.type===1)return this._msg(p),0}else if(m.type===2){if(this.verb=m.val,f.type===1&&(this.object=f.val),f.type===2)return this._msg(p),0}else return this._bug(36),0;return 1};C.prototype._outWords=function(){var n=Wt.vocab.filter(p=>p.code<1e3||p.code<3e3&&p.code>1999).filter(p=>p.word!=="xyzzy"&&p.word!=="plugh").reduce(function(p,o){return p[p.length-1].length>=5&&p.push([]),p[p.length-1].push(Ot.pad(o.word,12)),p},[[]]).map(p=>p.join(" "));n.forEach(p=>this._msg(p))};const Kp=Ot.sortBy(Wt.vocab,"code");C.prototype._analyzeWord=function(n,p){p=p||0;var o=Kp.filter(T=>T.word===n).filter(T=>T.code>=p);if(!o.length)return this._rspeak([60,61,13][A.randint(3)]),null;var m=o[0],f=p?m.code%1e3:m.code;return{code:f,word:n,type:Math.floor(f/1e3),val:f%1e3}};C.prototype._pspeak=function(n,p){var o=Wt.items[n][p+1];o&&(this._msg(o),this._msg(""))};C.prototype._rspeak=function(n){if(n){var p=Wt.dialogue[n]||[];p.forEach(o=>this._msg(o)),this._msg("")}};C.prototype._dwarfDeath=function(){return this._rspeak(136),this._death()};C.prototype._death=function(){if(this.closing||this.closed)return this._rspeak(131),this.numdie++,this._gameOver();this._rspeak(81+this.numdie*2),this.state="death_query",this.stopEarly=!0};C.prototype._gameOver=function(){this.done=!0,this.stopEarly=!0,this._msg("  * GAME OVER *"),this._msg(""),this._score()};C.prototype._score=function(){var n,p,o,m,f;for(m=n=f=0,p=50;p<=Hi;p++)p===y.obj.CHEST?o=14:p>y.obj.CHEST?o=16:o=12,this.prop[p]>=0&&(n+=2),this.place[p]===3&&this.prop[p]===0&&(n+=o-2);this._msg("Showing up: 2"),m+=2,n&&(m+=n,this._msg("Treasures: "+n)),n=(Ya-this.numdie)*10,n&&!this.gaveup&&this.done&&(m+=n,this._msg("Survival: "+n)),!this.gaveup&&this.done&&(f+=4),n=this.dflag?25:0,n&&(m+=n,this._msg("Getting well in: "+n)),n=this.closing?25:0,n&&(m+=n,this._msg("Masters section: "+n)),this.closed&&(this.bonus===0?n=10:this.bonus===135?n=25:this.bonus===134?n=30:this.bonus===133&&(n=45),m+=n,this._msg("Bonus: "+n)),this.place[y.obj.MAGAZINE]===108&&(f+=1),f&&(m+=f,this._msg("Secrets: "+f)),this._msg("SCORE: "+m)};C.prototype._msg=function(n){this.lines.push(String(n))};C.prototype._bug=function(p){this.done=!0,this.bug=p,this.stopEarly=!0,this.loopAgain=!1,Ot.isNumber(p)?this._msg(`Fatal error. (Bug #${p}) :cry:`):this._msg(`Fatal error. (${p}) :cry:`)};const Er={dialogue:Sa.dialogue.map(n=>n.join("<br>")),locations:Ia.longDescriptions.map(n=>n.join("<br>")),items:La.items};new class{constructor(){this.init_dom(),this.init_game()}init_game(){this.game=Oa.makeState(),this.game.advance();let n=this.game.advance("yes");for(let p=0;p<=5;p++)this.game.advance("look");n.pop(),this.game_data={location:{id:-1,description:"",items:[]},dialogue:{id:-1,description:n.join("<br>")},inventory:[]},this.render()}do_dialogue(n){n||(n="look");let p=this.game.advance(n);p.pop(),this.game_data.dialogue.description=p.join("<br>"),this.render()}get_game_data(){let n=this.game.advance("look"),p=[],o=[];n.map(m=>{m!==""?p.push(m):(o.push(p.join("<br>")),p=[])}),this.game_data.location.description=o.shift(),this.game_data.location.items=o.map(m=>({id:Er.items.findIndex(f=>f.indexOf(m)!==-1),name:Er.items.find(f=>f.indexOf(m)!==-1)[0],description:m})),this.game_data.dialogue.id=Er.dialogue.indexOf(this.game_data.dialogue.description),this.game_data.location.id=Er.locations.indexOf(this.game_data.location.description),n=this.game.advance("inventory").splice(2),p=[],o=[],n.map(m=>{m!==""?p.push(m):(o.push(p.join("<br>")),p=[])}),this.game_data.inventory=o.map(m=>({id:Er.items.findIndex(f=>f.indexOf(m)!==-1),name:m}))}init_dom(){this.dom={message_top:document.querySelector(".message_top"),message_bottom:document.querySelector(".message_bottom"),input:document.querySelector("input[type=text]"),button:document.querySelector("button")},this.dom.input.addEventListener("keyup",n=>{n.key==="Enter"&&(this.do_dialogue(this.dom.input.value),this.dom.input.value="")}),this.dom.button.addEventListener("click",n=>{this.do_dialogue(this.dom.input.value),this.dom.input.value=""}),document.querySelectorAll(".action-button").forEach(n=>n.addEventListener("click",p=>this.do_dialogue(n.getAttribute("data-action"))))}render(){this.get_game_data(),this.dom.message_bottom.innerHTML="",!this.game_data.location.description&&!this.game_data.dialogue.description?(this.dom.message_top.innerHTML="Refresh to restart",this.dom.message_bottom.innerHTML="Game Over"):this.game_data.dialogue.id===-1?this.dom.message_top.innerHTML=this.game_data.dialogue.description:(this.dom.message_top.innerHTML=[this.game_data.location.description,this.game_data.location.items.map(n=>n.description).join("<br><br>")].join("<br><br>"),this.dom.message_bottom.innerHTML=this.game_data.dialogue.description),document.body.style.backgroundImage=`url('assets/locations/${this.game_data.location.id}.jpg')`,console.log(JSON.stringify(this.game_data,null,2))}};
